function UpdateQueryStringParameter(n,t,i){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),u=n.indexOf("?")!==-1?"&":"?";return n.match(r)?n.replace(r,"$1"+t+"="+i+"$2"):n+u+t+"="+i}function onPinIt(n){var r=$("meta[name=contentType]").attr("content"),u,i,f,t;if(r==33||r==34||r==35)i=$(".col-xs-12.col-ml-8.col-md-8.marqueeimg img").attr("src"),u=$("#pnlHeader h1").text(),(i==undefined||i=="")&&(i="http://hostedmedia.reimanpub.com/images/TFH/Home/family_handyman_logo.gif",u="The FamilyHandyman"),t=$(n).attr("data-pinit-url"),t=UpdateQueryStringParameter(t,"media",i),t=UpdateQueryStringParameter(t,"description",u),window.open(t,"_blank");else if(r==30){if(i=$("#Container .carousel .carousel-inner .item.active .slideimg img").attr("src"),i!=""&&i!=undefined&&i!="undefined"){var e=$("#Container .carousel .carousel-inner .item.active .slidecontent h2").text(),u=$("#Container .carousel .carousel-inner .item.active .slidecontent :not(h2)").text(),t=$(n).attr("data-pinit-url");t=UpdateQueryStringParameter(t,"media",i),t=UpdateQueryStringParameter(t,"description",e.trim()+" - "+u.trim()),window.open(t,"_blank")}}else r==6?(f=$("article.leftcolumn section.container-fluid").find("img:first"),t=$(n).attr("data-pinit-url"),f.attr("src")!=undefined&&(t=UpdateQueryStringParameter(t,"media",f.attr("src"))),window.open(t,"_blank")):window.open($(n).attr("data-pinit-url"),"_blank")}function onPinItStandAlone(n){window.open($(n).attr("data-pinit-url"),"_blank")}function ExecuteCallBackFunctions(){for(var t,i=!0,n=0;n<CallBackFunctionsToRun.length;n++)CallBackFunctionsToRun[n]!=""&&(t=window[CallBackFunctionsToRun[n]],typeof t=="function"?i=t():i!==!1&&CallBackFunctionsToRun[n]&&CallBackFunctionsToRun[n]!=""&&CallBackFunctionsToRun[n]!="#"&&(document.location=CallBackFunctionsToRun[n])),CallBackFunctionsToRun.splice(n,1)}function showNewLogin(n){var r=readCookie("Mail"),t,i;if($.trim(r)==""){RD.Widgets.Auth.ResetErrorMsgs(),RD.Widgets.Auth.Modal.modal("show"),t=$("#hypLoginOverlayJoinNow"),i=$("#hypLoginOverlayJoinNowMobile"),t.attr("href",n),i.attr("href",n),RD.Widgets.Auth.SetOverlay("Log in to enjoy membership benefits from The Family Handyman.","");$("#LoginOverlayForm").on("hidden",function(){OnLogOut()})}}function adjusttopad(){$(".rd_billboard iframe").contents().find(".flite_ad_div").css("text-align","center")}function showviewallthumbs(){$("#viewallcont").show(),$("#slideshowcont").hide(),window.loadImages($("div.viewallthumbnails"))}function showslideshows(){$("#viewallcont").hide(),$("#slideshowcont").show()}function updateslidecounter(){var i=$("#slideshowcont .carousel-inner .item").length,t=$("#slideshowcont .carousel-inner"),n;t.length&&(n=$("div.active",t).index(),$("#slidecounter").text(n+1+" of "+i),n==0?$("#slideshowcont .left.carousel-control").hide():$("#slideshowcont .left.carousel-control").show(),n==i-1?$("#slideshowcont .right.carousel-control").hide():$("#slideshowcont .right.carousel-control").show())}function refreshad(){googletag.mobileSlideAdRefresh(),(slidepagecounter-1)%2==0&&(googletag.cmd.push(function(){var n=function(){googletag.pubads().clearTargeting("amznslots"),amznads.setTargetingForGPTAsync("amznslots")};amznads.getAdsCallback("3235",n)}),googletag.customAdRefresh()),setTimeout("adjustmobileadAdblocks()",500)}function adjustmobileadAdblocks(){$(window).width()<350&&$("div.AdBlock:not([id*='oop']) iframe").contents().find("a img").css({width:"90%",margin:"0 auto",display:"block"})}function adjustmobilead(){$(window).width()<350&&adjustmobileadAdblocks(),adjustbrandad(),adjustmarqueearrow()}function adjustbrandad(){var n=document.getElementsByTagName("BODY")[0],t=document.getElementById("theme-responsive");$(window).width()>1024?n&&t&&(n.style.width="990px",n.style.margin="0 auto",$(".container").css("width","990px")):(n.style.width="100%",t.disabled=!1,$(".container").css("width","inherit"))}function adjustmarqueearrow(){var n=$("#homemarqueecont .item.active .marqueeimg"),t=$("#homemarqueecont .carousel-control"),r=$("#homemarqueecont .carousel-control.left"),u=$("#homemarqueecont .carousel-control.right"),f=$("#homemarqueecont .item.active .marqueeimg img"),e=$("#homemarqueecont .marqueeindicator");if(n[0]||(n=$("#homemarqueecont .item.active .thirdslide")),n[0]){var o=n[0].offsetTop+n.height()/2,i=n.width()-f.width(),s=n[0].offsetTop+(n.height()+10);t.css({top:o-15}),r.css({left:n[0].offsetLeft+15}),u.css({right:i}),e.css({right:i,top:s}),t.show()}}function adjustslideshowcontent(){var n=$("#slideshowcont").width(),t,i;$("#slideshowcont .slideimg a").width(n),$("#slideshowcont .slideimg").css({width:n,"max-width":n,height:n,"max-height":n}),$("#slideshowcont .slideimg img").css({"max-height":n}),t=$("#slideshowcont .carousel-control"),i=n/2-25,t.css({top:i+46})}function locationHashChanged(){var n=parseInt(window.location.hash.replace("#",""));isNaN(n)||window.currentslide!=n&&$("#slideshowcont").carousel(n-1)}function fixHeader(){$(window).width()<1200||isFixedMenu&&(stickyHeight=$(".footer").offset().top-wrapperobj2.height()-wrapperobj2.next().height()-60,leftColumnHeight=$(".leftcolumn").height(),rightColumnHeight=$(".rightcolumn").height(),wrapperobj.length&&(window.pageYOffset&&window.pageYOffset>=wrapperTop?(wrapperobj.width(wrapperWidth),wrapperobj.addClass("pos_fixed animated fadeInDown"),$(bodyobj).css({"padding-top":wrapperHeight+10}),wrapperobj2.length&&leftColumnHeight>rightColumnHeight&&(window.pageYOffset>=wrapperTop2?($(".rightcolumn .rd_zone1").children().hide(),wrapperobj2.show(),wrapperobj2.next().show(),wrapperobj2.css({position:"fixed",top:"50px"}),wrapperobj2.width(wrapperWidth2),wrapperobj2.next().css({position:"fixed",top:wrapperobj2.height()+70+"px"}),wrapperobj2.next().width(wrapperWidth2),$("#fix_wrapper .navbar").css({"margin-bottom":"0px"}),$("#fix_wrapper .rd_header_ads .rd_header_ads_container").hide(),fixedAds=!0,window.pageYOffset>=stickyHeight&&(wrapperobj2.css({position:"absolute"}),wrapperobj2.offset({top:stickyHeight}),wrapperobj2.next().css({position:"absolute"}),wrapperobj2.next().offset({top:stickyHeight+wrapperobj2.height()+30}))):($(".rightcolumn .rd_zone1").children().show(),wrapperobj2.css({position:"inherit"}),wrapperobj2.next().css({position:"inherit"}),$("#fix_wrapper .navbar").css({"margin-bottom":"20px"}),$("#fix_wrapper .rd_header_ads .rd_header_ads_container").show(),fixedAds=!1))):($(bodyobj).css({"padding-top":"0px"}),wrapperobj.width("100%"),wrapperobj.removeClass("pos_fixed animated fadeInDown"))))}function replaceSpecialCharactors(n){var i="",r="",t=escape(n),u;return t=t.replace(/%u2013/g,i),r=t.replace(/%27/g,i),u=unescape(r)}function ReplaceUnsupportedChars(n){return typeof n=="string"&&(n=n.replace(/[^a-zA-Z0-9-_.+ :()/\\|,&]+/g,""),n=encodeURIComponent(n)),n}function GetComscoreLabelFromEvents(n){var t="",r,i;if(n!="None")for(r=n.split(","),i=0;i<r.length;i++)switch(r[i].toLowerCase()){case"event31":t=t+"&comments_event=true";break;case"event37":t=t+"&slideshow_event=true";break;case"event38":t=t+"&slideshow_ad_event=true";break;case"event20":t=t+"&rate_content_event=true";break;case"event21":t=t+"&print_event=true"}return t}function trackLinkComscore(n,t,i,r,u,f,e,o,s,h,c,l){var b=document.location.href.charAt(4)=="s"?"s://sb":"://b",v=document.location.href.match(/:\/\/(.[^/]+)/)[1],k="16404798",w="rdna",y="",a,p;(typeof l=="undefined"||l)&&(y="hidden"),(v.indexOf("localhost")>=0||v.indexOf("dev.")>=0||v.indexOf("test.")>=0||v.indexOf("staging.")>=0||v.indexOf("beta.")>=0||v.indexOf("test2.")>=0||v.indexOf("staging2.")>=0||v.indexOf("beta2.")>=0)&&(w="rdna-dev"),n=replaceSpecialCharactors(n),t=replaceSpecialCharactors(t),a="http"+b+".scorecardresearch.com/b?c1=2&c2="+k+"&_site=familyhandyman&ns_site="+w+"&link_pos="+ReplaceUnsupportedChars(n)+"&link_name="+ReplaceUnsupportedChars(t)+"&link_page="+ReplaceUnsupportedChars(i),y!=""&&y!=undefined&&(a=a+"&ns_type="+y),s!=null&&s!=undefined&&(a=a+"&link_module="+ReplaceUnsupportedChars(s)),h!=null&&h!=undefined&&(a=a+"&rwd_template="+ReplaceUnsupportedChars(h)),c!=null&&c!=undefined&&(a=a+"&placement_location="+ReplaceUnsupportedChars(c)),u!="None"&&(a=a+"&content_type="+ReplaceUnsupportedChars(u)),f!="None"&&(a=a+"&form_sub_pref="+ReplaceUnsupportedChars(f)),e!=null&&(p=e.href,p!=undefined&&(a=a+"&link_target="+ReplaceUnsupportedChars(p))),o!="None"&&(a=a+GetComscoreLabelFromEvents(o)),a=a.toLowerCase(),r==!0?udm_(a):setTimeout(function(){udm_(a)},1005)}function trackLink(n,t,i,r){var u=null;trackLinkWithEvents(n,t,i,r,"None","",u)}function trackLinkDom(n,t,i,r,u){trackLinkWithEvents(t,i,r,u,"None","",n)}function trackLinkWithEvents(n,t,i,r,u,f,e,o,s,h,c){var l="None",a="None",v=u;f!="None"&&(l=f),trackLinkComscore(n,t,i,r,l,a,e,v,o,s,h,c)}function trackLinkWithEventsWithFormSubmissionPreference(n,t,i,r,u,f){var e=s_gi(s_account);e.linkTrackVars="prop34,prop11,prop12,prop24,eVar12,eVar13,eVar14,events",e.linkTrackEvents=u,e.prop34=t,e.prop11=n,e.prop12=i,e.prop24=f,e.eVar12=i,e.eVar13=t,e.eVar14=n;var o="None",s=f,h=null,c=u;trackLinkComscore(n,t,i,r,o,s,h,c),r==!0?e.tl(this,"o",t):setTimeout('s.tl(this,"o","'+t+'")',1e3)}function trackExitLink(n,t,i,r,u){var f=s_gi(s_account);f.linkTrackVars="prop11,prop12,prop34,eVar12,eVar13,eVar14",f.linkTrackEvents="None",f.trackExternalLinks=!1,f.prop34=i,t=replaceSpecialChars(t,"OMNITURE"),f.prop11=t,f.prop12=r,f.eVar12=i,f.eVar13=t,f.eVar14=r;var e="None",o="None",s="None";trackLinkComscore(t,i,r,u,e,o,n,s),f.tl(this,"e",i)}function replaceSpecialChars(n,t){var r="",i="",u=escape(n);switch(t){case"Analytics":i=u.replace(/%u2013/g,r);break;case"COMSCORE":i=u.replace(/%27/g,r)}return varUesc=unescape(i)}function TrackLinkCustom(n,t,i,r,u,f,e){var o=s_gi(s_account);(e="")&&(e="None"),o.linkTrackVars="",u!=""&&(o.linkTrackVars=u),f!=""&&(linkTrackVars!=""&&(o.linkTrackVars=o.linkTrackVars+","),o.linkTrackVars=o.linkTrackVars+f),e!="None"&&(linkTrackVars!=""&&(o.linkTrackVars=o.linkTrackVars+","),o.linkTrackVars=o.linkTrackVars+"events"),o.linkTrackEvents=e,n=replaceSpecialChars(n,"OMNITURE"),f.indexOf("prop34")>0&&(o.prop34=t),f.indexOf("prop11")>0&&(o.prop11=n),f.indexOf("prop12")>0&&(o.prop12=i),u.indexOf("eVar12")>0&&(o.eVar12=t),u.indexOf("eVar13")>0&&(o.eVar13=n),u.indexOf("eVar14")>0&&(o.eVar14=i),u.indexOf("prop24")>0&&(o.prop24=GetOmnitureCustomValue("prop24",u)),r==!0?o.tl(this,"o",t):setTimeout('s.tl(this,"o","'+t+'")',1e3)}function getQueryParamKeycode(){var n;return(n=getParameterByName("PMCode"),typeof n!="null"&&typeof n!="undefined"&&n.valueOf()!="")?n:(n=getParameterByName("cds_response_key"),typeof n!="null"&&typeof n!="undefined"&&n.valueOf()!="")?n:(n=getParameterByName("keycode"),typeof n!="null"&&typeof n!="undefined"&&n.valueOf()!="")?n:(n=getParameterByName("refurl"),typeof n!="null"&&typeof n!="undefined"&&n.valueOf()!=""?n:void 0)}function getParameterByName(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))}function readCookie(n){for(var r=n+"=",u=document.cookie.split(";"),t,i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}function getLogInStatus(){var n;return n=readCookie("CSUser"),n!=null?"Logged In":"Logged Out"}function ComscoreTrackLinkSend(n,t){var f=document.location.href.charAt(4)=="s"?"s://sb":"://b",i=document.location.href.match(/:\/\/(.[^/]+)/)[1],e="16404798",u="rdna",r;(i.indexOf("localhost")>=0||i.indexOf("dev.")>=0||i.indexOf("test.")>=0||i.indexOf("staging.")>=0||i.indexOf("beta.")>=0||i.indexOf("test2.")>=0||i.indexOf("staging2.")>=0||i.indexOf("beta2.")>=0)&&(u="rdna-dev"),r="http"+f+".scorecardresearch.com/b?c1=2&c2="+e+"&_site=familyhandyman&ns_site="+u,r=r+n,r=r.toLowerCase(),t==!0?udm_(r):setTimeout(function(){udm_(r)},1005)}function tlComscore(n){function b(n,i){(n=$.trim(n),i=ReplaceUnsupportedChars(i),t.indexOf("&"+n+"=")>0)||$.trim(i)!=""&&(n=="page_template"?(t=t+"&"+n+"="+i,i.toLowerCase()=="slideshow"&&(o=="previous"||o=="next")&&(t=t+"&slideshow_event=true")):n=="rb_search_term"?(t=t+"&"+n+"="+i,t=t+"&rb_search_event=true"):n=="leave_page"?a=i:n=="link_location"?t.indexOf("&link_pos=")==-1&&(t=t+"&link_pos="+i):n=="link_module"?t.indexOf("&link_module=")==-1&&(t=t+"&link_module="+i):t=t+"&"+n+"="+i)}var i=$(n),o=i.attr("data-analytics-link_name"),s=i.attr("href"),a=i.attr("data-analytics-leave_page"),t="",f,e,u,h,r,w,c,l,d,k;if(o=replaceSpecialCharactors(o),o==undefined)return!1;var v=$("[data-analytics-breadcrumb_level='subcat']").attr("data-analytics-link_name"),y=$("[data-analytics-breadcrumb_level='subsubcat']").attr("data-analytics-link_name"),p=$("[data-analytics-breadcrumb_level='subsubsubcat']").attr("data-analytics-link_name");if(v!=undefined&&v!=""&&i.attr("data-analytics-subcat",v),y!=undefined&&y!=""&&i.attr("data-analytics-subsubcat",y),p!=undefined&&p!=""&&i.attr("data-analytics-subsubsubcat",p),f=i.attr("data-analytics-content_id"),e=i.attr("data-analytics-content_name"),(f==null||f==undefined||f=="")&&(f=$("meta[name='contentId']").attr("content"),i.attr("data-analytics-content_id",f)),(e==null||e==undefined||e=="")&&(e=$("meta[name='pageName']").attr("content")),u=i.attr("data-analytics-category"),(u==null||u==undefined||u=="")&&(u=$("[data-analytics-breadcrumb_level='category']").attr("data-analytics-link_name"),i.attr("data-analytics-category",u)),a==undefined&&(a=!0),i.each(function(){$.each(this.attributes,function(){this.specified&&this.name.indexOf("data-analytics-")!=-1&&this.name!="data-analytics-metrics"&&this.name!="data-analytics-link-manual"&&b(this.name.replace("data-analytics-",""),this.value)})}),i.attr("data-analytics-metrics")!=undefined&&(h=i.attr("data-analytics-metrics"),r=JSON.parse(h),r!=undefined))if(h.indexOf("key")!=-1&&h.indexOf("value")!=-1)for(w in r)b(r[w].key,r[w].value);else Object.getOwnPropertyNames(r).forEach(function(n){b(n,r[n])});epid=getEPidCookie(),epid!=null&&epid!=undefined&&(t=t+"&epid="+epid),ruid=getRuidCookie(),ruid!=null&&ruid!=undefined&&(t=t+"&ruid="+ruid),tmbiAb=getTmbiAbCookie(),tmbiAb!=null&&tmbiAb!=undefined&&tmbiAb!=""&&(t=t+"&tmbi_ab="+tmbiAb,t=t+SetIndividualTests(tmbiAb)),t.indexOf("&link_module=")==-1&&(c=$("#projectTabs li.active a").text(),(c==undefined||c=="")&&(t=t+"&link_module="+c)),t.indexOf("&link_page=")<0&&(l=window.location.pathname,l!=undefined&&l!=""&&(t+="&link_page="+ReplaceUnsupportedChars(l))),t.indexOf("ns_type=")<0&&t.indexOf("slideshow_event=")<0&&(d="hidden",t=t+"&ns_type="+d),t.indexOf("content_type=")<0&&(k=$("meta[name='contentType']").attr("content"),k!=undefined&&(t=t+"&content_type="+k)),t.indexOf("link_target=")<0&&s!=undefined&&(t=s.indexOf("void")<0&&s!="#"?t+"&link_target="+ReplaceUnsupportedChars(s):t+"&link_target="+document.location.href),typeof slidepagecounter!="undefined"&&slidepagecounter!=null&&slidepagecounter%3==0&&(t=t+"&slideshow_ad_event=true"),ComscoreTrackLinkSend(t,a)}function getEPidCookie(){var r,u,i,n,t;if(r=readCookie("epid"),r!=null){for(u=name+"=",i=document.cookie.split(";"),n=0;n<i.length;n++)if(t=i[n],t.indexOf("epid=")>-1)return t.substr(t.indexOf("=")+1)}else return null}function getRuidCookie(){var r,u,i,n,t;if(r=readCookie("ruid"),r!=null){for(u=name+"=",i=document.cookie.split(";"),n=0;n<i.length;n++)if(t=i[n],t.indexOf("ruid=")>-1)return t.substr(t.indexOf("=")+1)}else return null}function getTmbiAbCookie(){var r,u,i,n,t;if(r=readCookie("tmbi_ab"),r!=null){for(u=name+"=",i=document.cookie.split(";"),n=0;n<i.length;n++)if(t=i[n],t.indexOf("tmbi_ab=")>-1)return t.substr(t.indexOf("=")+1)}else return null}function SetIndividualTests(n){for(var o="",i=n.split("__"),u,f="",e="",r=0,t=0;t<i.length;t++)(i[t]!=null||i[t]!=undefined)&&(u=i[t].length,u>0&&(r=i[t].indexOf("_"),e=i[t].substring(0,r),u>r+1&&(f=i[t].substring(r+1)),(e!=""||f!="")&&(o+="&tmbi_ab_"+e+"="+f)));return o}function RedirectSearchTo(n){var t=$(n).find("option:selected").attr("data-url");t!=""&&t!=undefined&&(window.location.href=t)}function applyAutoComplete(){$("#txtSearchPhrase").autocomplete({source:function(n,t){$.trim(n.term)!=""&&$.ajax({cache:!0,url:"/SearchBox/ContextSearch",dataType:"json",data:{searchText:n.term,selectedCategory:1},success:function(n){t($.map(n.sbContextSearchModel.SearchBoxContextResults,function(n){return{desc:n.ContextCategory,label:n.ContextText,value:n.ContextText,action:n.Action}}))}})},minLength:3,delay:250,select:function(n,t){t.item!=null&&($("#txtSearchPhrase").val(t.item.value),OnSearch())}})}function replaceSpecialChar(n){return n.replace(/[^a-zA-Z 0-9@\"]+/g," ")}function trim(n){return n.replace(/^\s+|\s+$/g,"")}function OnSearch(){var i=$("#hdnResultsPage").val(),n="",t=trim(replaceSpecialChar($("#txtSearchPhrase").val()));return $.trim(t)!=""&&(n="/search/index?search="+t,window.location=encodeURI(n)),!1}function ShowEntryPopUp(){for(var f=window.location.href.toLowerCase(),i=!0,e="pagedoesnotexist1,pagedoesnotexist2",r=e.split(","),u,t,n=0;n<r.length;n++)if(f.indexOf(r[n])>=0){i=!1;break}document.cookie&&document.cookie.indexOf("TFH=entry_pop_up")<0&&i==!0&&(u=new Date,t=new Date,t.setTime(u.getTime()+864e5),document.cookie="TFH=entry_pop_up;domain=familyhandyman.com;expires="+t.toGMTString()+"; path=/",popunder())}function popunder(){function u(){var n=document.createElement("a"),t;n.href="about:blank",n.target="PopHelper",document.getElementsByTagName("body")[0].appendChild(n),n.parentNode.removeChild(n),t=document.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!0,!1,!1,!0,0,null),n.dispatchEvent(t),window.open("about:blank","PopHelper").close()}var t=self,i="width=320,height=270,location=no,toolbar=no,menubar=no,scrollbars=yes,resizable=yes",r=navigator.userAgent.indexOf("Chrome")!=-1,n;if(top!=self)try{top.document.location.toString()&&(t=top)}catch(f){}return n=t.window.open("","pop",i),n.document.write($("#entryPopupContent").val()),n.document.close(),n&&(r?(n.blur(),n.opener.window.focus(),window.self.window.blur(),window.focus(),u()):(n.init=function(n){with(n)(function(){if(typeof window.mozPaintCount!="undefined"){var n=window.open("about:blank");n.close()}try{opener.window.focus()}catch(t){}})()},n.init(n))),this}function setBreadcrumb(){var n="",t=$("[data-analytics-breadcrumb_level='home']").attr("data-analytics-link_name"),i=$("[data-analytics-breadcrumb_level='category']").attr("data-analytics-link_name"),r=$("[data-analytics-breadcrumb_level='subcat']").attr("data-analytics-link_name"),u=$("[data-analytics-breadcrumb_level='subsubcat']").attr("data-analytics-link_name"),f=$("[data-analytics-breadcrumb_level='subsubsubcat']").attr("data-analytics-link_name"),e=$("[data-analytics-breadcrumb_level='subsubsubsubcat']").attr("data-analytics-link_name");return i!=undefined&&i!=""&&(t!=undefined&&t!=""&&(n=t+" : "),n+=i,r!=undefined&&r!=""&&(n+=" : "+r,u!=undefined&&u!=""&&(n+=" : "+u,f!=undefined&&f!=""&&(n+=" : "+f,e!=undefined&&e!=""&&n+" : "+n)))),n}var RD,LogInFunctionsToRun,CallBackFunctionsToRun,bodyobj,responsivecss,lastSlide,fixedAds,wrapperobj2,wrapperTop2,wrapperWidth2,stickyHeight,stickyHeight2,adcontent;if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(void 0!==i.style[n])return{end:t[n]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one(n.support.transition.end,function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this},n(function(){n.support.transition=t()})}(jQuery),+function(n){"use strict";var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.prototype.close=function(t){function f(){i.trigger("closed.bs.alert").remove()}var u=n(this),r=u.attr("data-target"),i;r||(r=u.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=n(r),t&&t.preventDefault(),i.length||(i=u.hasClass("alert")?u:u.parent()),i.trigger(t=n.Event("close.bs.alert")),t.isDefaultPrevented()||(i.removeClass("in"),n.support.transition&&i.hasClass("fade")?i.one(n.support.transition.end,f).emulateTransitionEnd(150):f())},r=n.fn.alert,n.fn.alert=function(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this)),"string"==typeof i&&u[i].call(r)})},n.fn.alert.Constructor=t,n.fn.alert.noConflict=function(){return n.fn.alert=r,this},n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery),+function(n){"use strict";var t=function(i,r){this.$element=n(i),this.options=n.extend({},t.DEFAULTS,r),this.isLoading=!1},i;t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var r="disabled",i=this.$element,u=i.is("input")?"val":"html",f=i.data();t+="Text",f.resetText||i.data("resetText",i[u]()),i[u](f[t]||this.options[t]),setTimeout(n.proxy(function(){"loadingText"==t?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)},t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length&&(n=this.$element.find("input"),"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")),t&&this.$element.toggleClass("active")},i=n.fn.button,n.fn.button=function(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f)),"toggle"==i?r.toggle():i&&r.setState(i)})},n.fn.button.Constructor=t,n.fn.button.noConflict=function(){return n.fn.button=i,this},n(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var i=n(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),t.preventDefault()})}(jQuery),+function(n){"use strict";var t=function(t,i){this.$element=n(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",n.proxy(this.pause,this)).on("mouseleave",n.proxy(this.cycle,this))},i;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var r=this,i=this.getActiveIndex();if(!(t>this.$items.length-1)&&!(0>t))return this.sliding?this.$element.one("slid.bs.carousel",function(){r.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",n(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(t,i){var u=this.$element.find(".item.active"),r=i||u[t](),s=this.interval,f="next"==t?"left":"right",h="next"==t?"first":"last",e=this,o;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[h]()}return r.hasClass("active")?this.sliding=!1:(o=n.Event("slide.bs.carousel",{relatedTarget:r[0],direction:f}),this.$element.trigger(o),o.isDefaultPrevented()?void 0:(this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=n(e.$indicators.children()[e.getActiveIndex()]);t&&t.addClass("active")})),n.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,u.addClass(f),r.addClass(f),u.one(n.support.transition.end,function(){r.removeClass([t,f].join(" ")).addClass("active"),u.removeClass(["active",f].join(" ")),e.sliding=!1,setTimeout(function(){e.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*u.css("transition-duration").slice(0,-1))):(u.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),s&&this.cycle(),this))},i=n.fn.carousel,n.fn.carousel=function(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f)),"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})},n.fn.carousel.Constructor=t,n.fn.carousel.noConflict=function(){return n.fn.carousel=i,this},n(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var f,i=n(this),r=n(i.attr("data-target")||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")),e=n.extend({},r.data(),i.data()),u=i.attr("data-slide-to");u&&(e.interval=!1),r.carousel(e),(u=i.attr("data-slide-to"))&&r.data("bs.carousel").to(u),t.preventDefault()}),n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);t.carousel(t.data())})})}(jQuery),+function(n){"use strict";var t=function(i,r){this.$element=n(i),this.options=n.extend({},t.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=n(this.options.parent)),this.options.toggle&&this.toggle()},i;t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"},t.prototype.show=function(){var u,t,r,i,f,e;if(!this.transitioning&&!this.$element.hasClass("in")&&(u=n.Event("show.bs.collapse"),this.$element.trigger(u),!u.isDefaultPrevented())){if(t=this.$parent&&this.$parent.find("> .panel > .in"),t&&t.length){if(r=t.data("bs.collapse"),r&&r.transitioning)return;t.collapse("hide"),r||t.data("bs.collapse",null)}if(i=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1,f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")},!n.support.transition)return f.call(this);e=n.camelCase(["scroll",i].join("-")),this.$element.one(n.support.transition.end,n.proxy(f,this)).emulateTransitionEnd(350)[i](this.$element[0][e])}},t.prototype.hide=function(){var i,t,r;if(!this.transitioning&&this.$element.hasClass("in")&&(i=n.Event("hide.bs.collapse"),this.$element.trigger(i),!i.isDefaultPrevented()))return t=this.dimension(),this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1,r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")},n.support.transition?void this.$element[t](0).one(n.support.transition.end,n.proxy(r,this)).emulateTransitionEnd(350):r.call(this)},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i=n.fn.collapse,n.fn.collapse=function(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&"show"==i&&(i=!i),r||u.data("bs.collapse",r=new t(this,f)),"string"==typeof i&&r[i]()})},n.fn.collapse.Constructor=t,n.fn.collapse.noConflict=function(){return n.fn.collapse=i,this},n(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var e,i=n(this),s=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),r=n(s),u=r.data("bs.collapse"),h=u?"toggle":i.data(),f=i.attr("data-parent"),o=f&&n(f);u&&u.transitioning||(o&&o.find('[data-toggle=collapse][data-parent="'+f+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(h)})}(jQuery),+function(n){"use strict";function r(t){n(e).remove(),n(i).each(function(){var i=u(n(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=n.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))})}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}var e=".dropdown-backdrop",i="[data-toggle=dropdown]",t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=u(f),o=i.hasClass("open"),r(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;i.toggleClass("open").trigger("shown.bs.dropdown",e),f.focus()}return!1}},t.prototype.keydown=function(t){var e,o,s,h,f,r;if(/(38|40|27)/.test(t.keyCode)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&o.find(i).focus(),e.click();h=" li:not(.divider):visible a",f=o.find("[role=menu]"+h+", [role=listbox]"+h),f.length&&(r=f.index(f.filter(":focus")),38==t.keyCode&&r>0&&r--,40==t.keyCode&&r<f.length-1&&r++,~r||(r=0),f.eq(r).focus())}},f=n.fn.dropdown,n.fn.dropdown=function(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this)),"string"==typeof i&&u[i].call(r)})},n.fn.dropdown.Constructor=t,n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this},n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu], [role=listbox]",t.prototype.keydown)}(jQuery),+function(n){"use strict";var t=function(t,i){this.options=i,this.$element=n(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},i;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(n){return this[this.isShown?"hide":"show"](n)},t.prototype.show=function(t){var i=this,r=n.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.backdrop(function(){var u=n.support.transition&&i.$element.hasClass("fade"),r;i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),u&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus(),r=n.Event("shown.bs.modal",{relatedTarget:t}),u?i.$element.find(".modal-dialog").one(n.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=n.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one(n.support.transition.end,n.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var n=this;this.$element.hide(),this.backdrop(function(){n.removeBackdrop(),n.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var r=this.$element.hasClass("fade")?"fade":"",i;if(this.isShown&&this.options.backdrop){if(i=n.support.transition&&r,this.$backdrop=n('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()},i=n.fn.modal,n.fn.modal=function(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e)),"string"==typeof i?u[i](r):e.show&&u.show(r)})},n.fn.modal.Constructor=t,n.fn.modal.noConflict=function(){return n.fn.modal=i,this},n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=n(this),r=i.attr("href"),u=n(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),f=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(r)&&r},u.data(),i.data());i.is("a")&&t.preventDefault(),u.modal(f,this).one("hide",function(){i.is(":visible")&&i.focus()})}),n(document).on("show.bs.modal",".modal",function(){n(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){n(document.body).removeClass("modal-open")})}(jQuery),+function(n){"use strict";var t=function(n,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",n,t)},i;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,i,r){var f,e,u,o,s;for(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},t.prototype.show=function(){var v=n.Event("show.bs."+this.type),s,i,c,o;if(this.hasContent()&&this.enabled){if(this.$element.trigger(v),v.isDefaultPrevented())return;s=this,i=this.tip(),this.setContent(),this.options.animation&&i.addClass("fade");var t="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,a=h.test(t);a&&(t=t.replace(h,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(t),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var r=this.getPosition(),e=i[0].offsetWidth,u=i[0].offsetHeight;if(a){var f=this.$element.parent(),y=t,l=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:f.outerWidth(),w="body"==this.options.container?window.innerHeight:f.outerHeight(),b="body"==this.options.container?0:f.offset().left;t="bottom"==t&&r.top+r.height+u-l>w?"top":"top"==t&&r.top-l-u<0?"bottom":"right"==t&&r.right+e>p?"left":"left"==t&&r.left-e<b?"right":t,i.removeClass(y).addClass(t)}c=this.getCalculatedOffset(t,r,e,u),this.applyPlacement(c,t),this.hoverState=null,o=function(){s.$element.trigger("shown.bs."+s.type)},n.support.transition&&this.$tip.hasClass("fade")?i.one(n.support.transition.end,o).emulateTransitionEnd(150):o()}},t.prototype.applyPlacement=function(t,i){var c,r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),f,u,h;isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top=t.top+o,t.left=t.left+s,n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0),r.addClass("in"),f=r[0].offsetWidth,u=r[0].offsetHeight,("top"==i&&u!=e&&(c=!0,t.top=t.top+e-u),/bottom|top/.test(i))?(h=0,t.left<0&&(h=-2*t.left,t.left=0,r.offset(t),f=r[0].offsetWidth,u=r[0].offsetHeight),this.replaceArrow(h-l+f,f,"left")):this.replaceArrow(u-e,u,"top"),c&&r.offset(t)},t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i,n?50*(1-n/t)+"%":"")},t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t),n.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function r(){"in"!=t.hoverState&&i.detach(),t.$element.trigger("hidden.bs."+t.type)}var t=this,i=this.tip(),u=n.Event("hide.bs."+this.type);return this.$element.trigger(u),u.isDefaultPrevented()?void 0:(i.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?i.one(n.support.transition.end,r).emulateTransitionEnd(150):r(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return n.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var i,t=this.$element,n=this.options;return i=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=t?n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)},i=n.fn.tooltip,n.fn.tooltip=function(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;(r||"destroy"!=i)&&(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})},n.fn.tooltip.Constructor=t,n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery),+function(n){"use strict";var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i),n.find(".popover-content")[this.options.html?"string"==typeof t?"html":"append":"text"](t),n.removeClass("fade top bottom left right in"),n.find(".popover-title").html()||n.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip},i=n.fn.popover,n.fn.popover=function(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;(r||"destroy"!=i)&&(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})},n.fn.popover.Constructor=t,n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery),+function(n){"use strict";function t(i,r){var u,f=n.proxy(this.process,this);this.$element=n(n(i).is("body")?window:i),this.$body=n("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=n.extend({},t.DEFAULTS,r),this.selector=(this.options.target||(u=n(i).attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=n([]),this.targets=n([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var i=this.$element[0]==window?"offset":"position",t;this.offsets=n([]),this.targets=n([]),t=this,this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),r=/^#./.test(u)&&n(u);return r&&r.length&&r.is(":visible")&&[[r[i]().top+(!n.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,e=f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(i>=e)return u!=(n=r.last()[0])&&this.activate(n);if(u&&i<=t[0])return u!=(n=r[0])&&this.activate(n);for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(!t[n+1]||i<=t[n+1])&&this.activate(r[n])},t.prototype.activate=function(t){this.activeTarget=t,n(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=n.fn.scrollspy;n.fn.scrollspy=function(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f)),"string"==typeof i&&r[i]()})},n.fn.scrollspy.Constructor=t,n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=i,this},n(window).on("load",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);t.scrollspy(t.data())})})}(jQuery),+function(n){"use strict";var t=function(t){this.element=n(t)},i;t.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),r,u,f;(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),t.parent("li").hasClass("active"))||(r=e.find(".active:last a")[0],u=n.Event("show.bs.tab",{relatedTarget:r}),(t.trigger(u),u.isDefaultPrevented())||(f=n(i),this.activate(t.parent("li"),e),this.activate(f,f.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})))},t.prototype.activate=function(t,i,r){function f(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),e?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var u=i.find("> .active"),e=r&&n.support.transition&&u.hasClass("fade");e?u.one(n.support.transition.end,f).emulateTransitionEnd(150):f(),u.removeClass("in")},i=n.fn.tab,n.fn.tab=function(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this)),"string"==typeof i&&r[i]()})},n.fn.tab.Constructor=t,n.fn.tab.noConflict=function(){return n.fn.tab=i,this},n(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),n(this).tab("show")})}(jQuery),+function(n){"use strict";var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r),this.$window=n(window).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this)),this.$element=n(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()},i;t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n},t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){var i,e,h;if(this.$element.is(":visible")){var c=n(document).height(),o=this.$window.scrollTop(),s=this.$element.offset(),r=this.options.offset,f=r.top,u=r.bottom;"top"==this.affixed&&(s.top+=o),"object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=null!=this.unpin&&o+this.unpin<=s.top?!1:null!=u&&s.top+this.$element.height()>=c-u?"bottom":null!=f&&f>=o?"top":!1,this.affixed!==i&&(this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),h=n.Event(e+".bs.affix"),this.$element.trigger(h),h.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(e).trigger(n.Event(e.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:c-u-this.$element.height()})))}},i=n.fn.affix,n.fn.affix=function(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f)),"string"==typeof i&&r[i]()})},n.fn.affix.Constructor=t,n.fn.affix.noConflict=function(){return n.fn.affix=i,this},n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var i=n(this),t=i.data();t.offset=t.offset||{},t.offsetBottom&&(t.offset.bottom=t.offsetBottom),t.offsetTop&&(t.offset.top=t.offsetTop),i.affix(t)})})}(jQuery),function(){function u(n){throw n;}function s(n){return function(){return n}}function h(h){function ei(n,i,u,f,e){var o=[];return n=l.j(function(){var n=i(u,e)||[];0<o.length&&(l.a.Ya(it(o),n),f&&l.r.K(f,t,[u,n,e])),o.splice(0,o.length),l.a.P(o,n)},t,{W:n,Ka:function(){return 0==o.length||!l.a.X(o[0])}}),{M:o,j:n.pa()?n:r}}function it(n){for(;n.length&&!l.a.X(n[0]);)n.splice(0,1);if(1<n.length){for(var t=n[0],r=n[n.length-1],i=[t];t!==r;){if(t=t.nextSibling,!t)return;i.push(t)}Array.prototype.splice.apply(n,[0,n.length].concat(i))}return n}function et(n,t,i,r,u){for(var o=Math.min,a=Math.max,s=[],l=n.length,f,h=t.length,c=h-l||1,b=l+h+1,v,p,w,y,e=0;e<=l;e++)for(p=v,s.push(v=[]),w=o(h,e+c),f=a(0,e-1);f<=w;f++)v[f]=f?e?n[e-1]===t[f-1]?p[f-1]:o(p[f]||b,v[f-1]||b)+1:f+1:e+1;for(o=[],a=[],c=[],e=l,f=h;e||f;)h=s[e][f]-1,f&&h===s[e][f-1]?a.push(o[o.length]={status:i,value:t[--f],index:f}):e&&h===s[e-1][f]?c.push(o[o.length]={status:r,value:n[--e],index:e}):(o.push({status:"retained",value:t[--f]}),--e);if(a.length&&c.length)for(n=10*l,t=i=0;(u||t<n)&&(y=a[i]);i++){for(r=0;s=c[r];r++)if(y.value===s.value){y.moved=s.index,s.moved=y.index,c.splice(r,1),t=r=0;break}t+=r}return o.reverse()}function ot(r,f,e,o,s){s=s||{};var h=r&&rt(r),h=h&&h.ownerDocument,c=s.templateEngine||tt;l.za.vb(e,c,h),e=c.renderTemplate(e,o,s,h),("number"!=typeof e.length||0<e.length&&"number"!=typeof e[0].nodeType)&&u(Error("Template engine must return an array of DOM nodes")),h=i;switch(f){case"replaceChildren":l.e.N(r,e),h=n;break;case"replaceNode":l.a.Ya(r,e),h=n;break;case"ignoreTargetNode":break;default:u(Error("Unknown renderMode: "+f))}return h&&(ht(e,o),s.afterRender&&l.r.K(s.afterRender,t,[e,o.$data])),e}function rt(n){return n.nodeType?n:0<n.length?n[0]:t}function ht(n,t){if(n.length){var i=n[0],r=n[n.length-1];ct(i,r,function(n){l.Da(t,n)}),ct(i,r,function(n){l.s.ib(n,[t])})}}function ct(n,t,i){var r;for(t=l.e.nextSibling(t);n&&(r=n)!==t;)n=l.e.nextSibling(r),(1===r.nodeType||8===r.nodeType)&&i(r)}function at(n,t,i){var o,f,r,e;for(n=l.g.aa(n),o=l.g.Q,f=0;f<n.length;f++)r=n[f].key,o.hasOwnProperty(r)&&(e=o[r],"function"==typeof e?(r=e(n[f].value))&&u(Error(r)):e||u(Error("This template engine does not support the '"+r+"' binding within its templates")));return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+l.g.ba(n)+" } })()})",i.createJavaScriptEvaluatorBlock(n)+t}function pt(n,i,f,e){function c(n){return function(){return o[n]}}function a(){return o}var s=0,o,h;return l.j(function(){var y=f&&f instanceof l.z?f:new l.z(l.a.d(f)),p=y.$data,t,v;if(e&&l.eb(n,y),o=("function"==typeof i?i(y,n):i)||l.J.instance.getBindings(n,y)){if(0===s){s=1;for(t in o)v=l.c[t],v&&8===n.nodeType&&!l.e.I[t]&&u(Error("The binding '"+t+"' cannot be used with virtual elements")),v&&"function"==typeof v.init&&(v=v.init(n,c(t),a,p,y))&&v.controlsDescendantBindings&&(h!==r&&u(Error("Multiple bindings ("+h+" and "+t+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),h=t);s=2}if(2===s)for(t in o)(v=l.c[t])&&"function"==typeof v.update&&v.update(n,c(t),a,p,y)}},t,{W:n}),{Nb:h===r}}function wt(i,r,u){var e=n,f=1===r.nodeType;f&&l.e.Ta(r),(f&&u||l.J.instance.nodeHasBindings(r))&&(e=pt(r,t,i,u).Nb),e&&bt(i,r,!f)}function bt(n,t,i){for(var r=l.e.firstChild(t);t=r;)r=l.e.nextSibling(t),wt(n,t,i)}function st(n,i){var r=ut(n,i);return r?0<r.length?r[r.length-1].nextSibling:n.nextSibling:t}function ut(n,i){for(var r=n,f=1,e=[];r=r.nextSibling;){if(b(r)&&(f--,0===f))return e;e.push(r),a(r)&&f++}return i||u(Error("Cannot find closing comment tag to match: "+n.nodeValue)),t}function b(n){return 8==n.nodeType&&(p?n.text:n.nodeValue).match(ui)}function a(n){return 8==n.nodeType&&(p?n.text:n.nodeValue).match(ri)}function nt(n,i){for(var r=t;n!=r;)r=n,n=n.replace(ni,function(n,t){return i[t]});return n}function gt(){var n=[],t=[];this.save=function(i,r){var u=l.a.i(n,i);0<=u?t[u]=r:(n.push(i),t.push(r))},this.get=function(i){return i=l.a.i(n,i),0<=i?t[i]:r}}function yt(n,i,u){function s(t){var f=i(n[t]),o;switch(typeof f){case"boolean":case"number":case"string":case"function":e[t]=f;break;case"object":case"undefined":o=u.get(f),e[t]=o!==r?o:yt(f,i,u)}}var e,o,f;if(u=u||new gt,n=i(n),!("object"==typeof n&&n!==t&&n!==r&&!(n instanceof Date)))return n;if(e=n instanceof Array?[]:{},u.save(n,e),o=n,o instanceof Array){for(f=0;f<o.length;f++)s(f);"function"==typeof o.toJSON&&s("toJSON")}else for(f in o)s(f);return e}function dt(n,i){var r;if(n)if(8==n.nodeType)r=l.s.Ua(n.nodeValue),r!=t&&i.push({sb:n,Fb:r});else if(1==n.nodeType)for(var r=0,u=n.childNodes,f=u.length;r<f;r++)dt(u[r],i)}function g(t,r,u,f){l.c[t]={init:function(t){return l.a.f.set(t,k,{}),{controlsDescendantBindings:n}},update:function(t,i,e,o,s){e=l.a.f.get(t,k),i=l.a.d(i()),o=!u!=!i;var h=!e.Za;(h||r||o!==e.qb)&&(h&&(e.Za=l.a.Ia(l.e.childNodes(t),n)),o?(h||l.e.N(t,l.a.Ia(e.Za)),l.Ea(f?f(s,i):s,t)):l.e.Y(t),e.qb=o)}},l.g.Q[t]=i,l.e.I[t]=n}function kt(n,i,r){r&&i!==l.k.q(n)&&l.k.T(n,i),i!==l.k.q(n)&&l.r.K(l.a.Ba,t,[n,"change"])}var l="undefined"!=typeof h?h:{},w,v,lt,y,d,k,ft,vt,tt;l.b=function(n,t){for(var i=n.split("."),r=l,u=0;u<i.length-1;u++)r=r[i[u]];r[i[i.length-1]]=t},l.p=function(n,t,i){n[t]=i},l.version="2.2.1",l.b("version",l.version),l.a=new function(){function p(n,t){if("input"!==l.a.u(n)||!n.type||"click"!=t.toLowerCase())return i;var r=n.type;return"checkbox"==r||"radio"==r}var d=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,h={},w={},a,v,y,b,k,s;h[/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],h.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(a in h)if(v=h[a],v.length)for(y=0,b=v.length;y<b;y++)w[v[y]]=a;for(k={propertychange:n},h=3,a=e.createElement("div"),v=a.getElementsByTagName("i");a.innerHTML="<!--[if gt IE "+ ++h+"]><i></i><![endif]-->",v[0];);return s=4<h?h:r,{Na:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i])},i:function(n,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},lb:function(n,i,r){for(var u=0,f=n.length;u<f;u++)if(i.call(r,n[u]))return n[u];return t},ga:function(n,t){var i=l.a.i(n,t);0<=i&&n.splice(i,1)},Ga:function(n){n=n||[];for(var i=[],t=0,r=n.length;t<r;t++)0>l.a.i(i,n[t])&&i.push(n[t]);return i},V:function(n,t){n=n||[];for(var r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i]));return r},fa:function(n,t){n=n||[];for(var r=[],i=0,u=n.length;i<u;i++)t(n[i])&&r.push(n[i]);return r},P:function(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},extend:function(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},ka:function(n){for(;n.firstChild;)l.removeNode(n.firstChild)},Hb:function(n){n=l.a.L(n);for(var i=e.createElement("div"),t=0,r=n.length;t<r;t++)i.appendChild(l.A(n[t]));return i},Ia:function(t,i){for(var u,r=0,e=t.length,f=[];r<e;r++)u=t[r].cloneNode(n),f.push(i?l.A(u):u);return f},N:function(n,t){if(l.a.ka(n),t)for(var i=0,r=t.length;i<r;i++)n.appendChild(t[i])},Ya:function(n,t){var r=n.nodeType?[n]:n;if(0<r.length){for(var f=r[0],e=f.parentNode,i=0,u=t.length;i<u;i++)e.insertBefore(t[i],f);for(i=0,u=r.length;i<u;i++)l.removeNode(r[i])}},bb:function(n,t){7>s?n.setAttribute("selected",t):n.selected=t},D:function(n){return(n||"").replace(d,"")},Rb:function(n,t){for(var r,u=[],f=(n||"").split(t),i=0,e=f.length;i<e;i++)r=l.a.D(f[i]),""!==r&&u.push(r);return u},Ob:function(n,t){return n=n||"",t.length>n.length?i:n.substring(0,t.length)===t},tb:function(r,u){if(u.compareDocumentPosition)return 16==(u.compareDocumentPosition(r)&16);for(;r!=t;){if(r==u)return n;r=r.parentNode}return i},X:function(n){return l.a.tb(n,n.ownerDocument)},u:function(n){return n&&n.tagName&&n.tagName.toLowerCase()},n:function(t,r,e){var o=s&&k[r],h;o||"undefined"==typeof f?!o&&"function"==typeof t.addEventListener?t.addEventListener(r,e,i):"undefined"!=typeof t.attachEvent?t.attachEvent("on"+r,function(n){e.call(t,n)}):u(Error("Browser doesn't support addEventListener or attachEvent")):(p(t,r)&&(h=e,e=function(t,i){var r=this.checked;i&&(this.checked=i.nb!==n),h.call(this,t),this.checked=r}),f(t).bind(r,e))},Ba:function(t,r){if((!t||!t.nodeType)&&u(Error("element must be a DOM node when calling triggerEvent")),"undefined"!=typeof f){var s=[];p(t,r)&&s.push({nb:t.checked}),f(t).trigger(r,s)}else"function"==typeof e.createEvent?"function"==typeof t.dispatchEvent?(s=e.createEvent(w[r]||"HTMLEvents"),s.initEvent(r,n,n,o,0,0,0,0,0,i,i,i,i,0,t),t.dispatchEvent(s)):u(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof t.fireEvent?(p(t,r)&&(t.checked=t.checked!==n),t.fireEvent("on"+r)):u(Error("Browser doesn't support triggering events"))},d:function(n){return l.$(n)?n():n},ua:function(n){return l.$(n)?n.t():n},da:function(n,t,i){if(t){var u=/[\w-]+/g,r=n.className.match(u)||[];l.a.o(t.match(u),function(n){var t=l.a.i(r,n);0<=t?i||r.splice(t,1):i&&r.push(n)}),n.className=r.join(" ")}},cb:function(n,i){var u=l.a.d(i),f;(u===t||u===r)&&(u=""),3===n.nodeType?n.data=u:(f=l.e.firstChild(n),!f||3!=f.nodeType||l.e.nextSibling(f)?l.e.N(n,[e.createTextNode(u)]):f.data=u,l.a.wb(n))},ab:function(n,t){if(n.name=t,7>=s)try{n.mergeAttributes(e.createElement("<input name='"+n.name+"'/>"),i)}catch(r){}},wb:function(n){9<=s&&(n=1==n.nodeType?n:n.parentNode,n.style&&(n.style.zoom=n.style.zoom))},ub:function(n){if(9<=s){var t=n.style.width;n.style.width=0,n.style.width=t}},Lb:function(n,t){n=l.a.d(n),t=l.a.d(t);for(var r=[],i=n;i<=t;i++)r.push(i);return r},L:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},Pb:6===s,Qb:7===s,Z:s,Oa:function(n,t){for(var r=l.a.L(n.getElementsByTagName("input")).concat(l.a.L(n.getElementsByTagName("textarea"))),f="string"==typeof t?function(n){return n.name===t}:function(n){return t.test(n.name)},u=[],i=r.length-1;0<=i;i--)f(r[i])&&u.push(r[i]);return u},Ib:function(n){return"string"==typeof n&&(n=l.a.D(n))?o.JSON&&o.JSON.parse?o.JSON.parse(n):new Function("return "+n)():t},xa:function(n,t,i){return("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&u(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(l.a.d(n),t,i)},Jb:function(n,t,i){var a,o,s,f,r,u;i=i||{};var h=i.params||{},c=i.includeFields||this.Na,a=n;if("object"==typeof n&&"form"===l.a.u(n))for(a=n.action,o=c.length-1;0<=o;o--)for(s=l.a.Oa(n,c[o]),f=s.length-1;0<=f;f--)h[s[f].name]=s[f].value;t=l.a.d(t),r=e.createElement("form"),r.style.display="none",r.action=a,r.method="post";for(u in t)n=e.createElement("input"),n.name=u,n.value=l.a.xa(l.a.d(t[u])),r.appendChild(n);for(u in h)n=e.createElement("input"),n.name=u,n.value=h[u],r.appendChild(n);e.body.appendChild(r),i.submitter?i.submitter(r):r.submit(),setTimeout(function(){r.parentNode.removeChild(r)},0)}}},l.b("utils",l.a),l.b("utils.arrayForEach",l.a.o),l.b("utils.arrayFirst",l.a.lb),l.b("utils.arrayFilter",l.a.fa),l.b("utils.arrayGetDistinctValues",l.a.Ga),l.b("utils.arrayIndexOf",l.a.i),l.b("utils.arrayMap",l.a.V),l.b("utils.arrayPushAll",l.a.P),l.b("utils.arrayRemoveItem",l.a.ga),l.b("utils.extend",l.a.extend),l.b("utils.fieldsIncludedWithJsonPost",l.a.Na),l.b("utils.getFormFields",l.a.Oa),l.b("utils.peekObservable",l.a.ua),l.b("utils.postJson",l.a.Jb),l.b("utils.parseJson",l.a.Ib),l.b("utils.registerEventHandler",l.a.n),l.b("utils.stringifyJson",l.a.xa),l.b("utils.range",l.a.Lb),l.b("utils.toggleDomNodeCssClass",l.a.da),l.b("utils.triggerEvent",l.a.Ba),l.b("utils.unwrapObservable",l.a.d),Function.prototype.bind||(Function.prototype.bind=function(n){var i=this,t=Array.prototype.slice.call(arguments);return n=t.shift(),function(){return i.apply(n,t.concat(Array.prototype.slice.call(arguments)))}}),l.a.f=new function(){var e=0,u="__ko__"+ +new Date,f={};return{get:function(n,t){var u=l.a.f.la(n,i);return u===r?r:u[t]},set:function(t,u,f){f===r&&l.a.f.la(t,i)===r||(l.a.f.la(t,n)[u]=f)},la:function(n,t){var i=n[u];if(!i||!("null"!==i&&f[i])){if(!t)return r;i=n[u]="ko"+e++,f[i]={}}return f[i]},clear:function(r){var e=r[u];return e?(delete f[e],r[u]=t,n):i}}},l.b("utils.domData",l.a.f),l.b("utils.domData.clear",l.a.f.clear),l.a.F=new function(){function t(n,t){var i=l.a.f.get(n,o);return i===r&&t&&(i=[],l.a.f.set(n,o,i)),i}function e(n){var r=t(n,i),u;if(r)for(r=r.slice(0),u=0;u<r.length;u++)r[u](n);if(l.a.f.clear(n),"function"==typeof f&&"function"==typeof f.cleanData&&f.cleanData([n]),s[n.nodeType])for(r=n.firstChild;n=r;)r=n.nextSibling,8===n.nodeType&&e(n)}var o="__ko_domNodeDisposal__"+ +new Date,h={1:n,8:n,9:n},s={1:n,9:n};return{Ca:function(i,r){"function"!=typeof r&&u(Error("Callback must be a function")),t(i,n).push(r)},Xa:function(n,u){var f=t(n,i);f&&(l.a.ga(f,u),0==f.length&&l.a.f.set(n,o,r))},A:function(n){var t,i,r;if(h[n.nodeType]&&(e(n),s[n.nodeType]))for(t=[],l.a.P(t,n.getElementsByTagName("*")),i=0,r=t.length;i<r;i++)e(t[i]);return n},removeNode:function(n){l.A(n),n.parentNode&&n.parentNode.removeChild(n)}}},l.A=l.a.F.A,l.removeNode=l.a.F.removeNode,l.b("cleanNode",l.A),l.b("removeNode",l.removeNode),l.b("utils.domNodeDisposal",l.a.F),l.b("utils.domNodeDisposal.addDisposeCallback",l.a.F.Ca),l.b("utils.domNodeDisposal.removeDisposeCallback",l.a.F.Xa),l.a.ta=function(n){var t,i;if("undefined"!=typeof f){if(f.parseHTML)t=f.parseHTML(n);else if((t=f.clean([n]))&&t[0]){for(n=t[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}}else{for(i=l.a.D(n).toLowerCase(),t=e.createElement("div"),i=i.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],n="ignored<div>"+i[1]+n+i[2]+"</div>","function"==typeof o.innerShiv?t.appendChild(o.innerShiv(n)):t.innerHTML=n;i[0]--;)t=t.lastChild;t=l.a.L(t.lastChild.childNodes)}return t},l.a.ca=function(n,i){if(l.a.ka(n),i=l.a.d(i),i!==t&&i!==r)if("string"!=typeof i&&(i=i.toString()),"undefined"!=typeof f)f(n).html(i);else for(var e=l.a.ta(i),u=0;u<e.length;u++)n.appendChild(e[u])},l.b("utils.parseHtmlFragment",l.a.ta),l.b("utils.setHtml",l.a.ca),w={},l.s={ra:function(n){"function"!=typeof n&&u(Error("You can only pass a function to ko.memoization.memoize()"));var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return w[t]=n,"<!--[ko_memo:"+t+"]-->"},hb:function(i,f){var e=w[i];e===r&&u(Error("Couldn't find any memo with ID "+i+". Perhaps it's already been unmemoized."));try{return e.apply(t,f||[]),n}finally{delete w[i]}},ib:function(n,t){var u=[],r,e,i,f;for(dt(n,u),r=0,e=u.length;r<e;r++)i=u[r].sb,f=[i],t&&l.a.P(f,t),l.s.hb(u[r].Fb,f),i.nodeValue="",i.parentNode&&i.parentNode.removeChild(i)},Ua:function(n){return(n=n.match(/^\[ko_memo\:(.*?)\]$/))?n[1]:t}},l.b("memoization",l.s),l.b("memoization.memoize",l.s.ra),l.b("memoization.unmemoize",l.s.hb),l.b("memoization.parseMemoText",l.s.Ua),l.b("memoization.unmemoizeDomNodeAndDescendants",l.s.ib),l.Ma={throttle:function(n,i){n.throttleEvaluation=i;var r=t;return l.j({read:n,write:function(t){clearTimeout(r),r=setTimeout(function(){n(t)},i)}})},notify:function(n,t){return n.equalityComparer="always"==t?s(i):l.m.fn.equalityComparer,n}},l.b("extenders",l.Ma),l.fb=function(n,t,i){this.target=n,this.ha=t,this.rb=i,l.p(this,"dispose",this.B)},l.fb.prototype.B=function(){this.Cb=n,this.rb()},l.S=function(){this.w={},l.a.extend(this,l.S.fn),l.p(this,"subscribe",this.ya),l.p(this,"extend",this.extend),l.p(this,"getSubscriptionsCount",this.yb)},l.S.fn={ya:function(n,t,i){i=i||"change";var r=new l.fb(this,t?n.bind(t):n,function(){l.a.ga(this.w[i],r)}.bind(this));return this.w[i]||(this.w[i]=[]),this.w[i].push(r),r},notifySubscribers:function(t,i){i=i||"change",this.w[i]&&l.r.K(function(){l.a.o(this.w[i].slice(0),function(i){i&&i.Cb!==n&&i.ha(t)})},this)},yb:function(){var t=0,n;for(n in this.w)this.w.hasOwnProperty(n)&&(t+=this.w[n].length);return t},extend:function(n){var t=this,i,r;if(n)for(i in n)r=l.Ma[i],"function"==typeof r&&(t=r(t,n[i]));return t}},l.Qa=function(n){return"function"==typeof n.ya&&"function"==typeof n.notifySubscribers},l.b("subscribable",l.S),l.b("isSubscribable",l.Qa),v=[],l.r={mb:function(n){v.push({ha:n,La:[]})},end:function(){v.pop()},Wa:function(n){if(l.Qa(n)||u(Error("Only subscribable things can act as dependencies")),0<v.length){var t=v[v.length-1];t&&!(0<=l.a.i(t.La,n))&&(t.La.push(n),t.ha(n))}},K:function(n,i,r){try{return v.push(t),n.apply(i,r||[])}finally{v.pop()}}},lt={undefined:n,boolean:n,number:n,string:n},l.m=function(n){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(i,arguments[0])||(t.H(),i=arguments[0],t.G()),this):(l.r.Wa(t),i)}var i=n;return l.S.call(t),t.t=function(){return i},t.G=function(){t.notifySubscribers(i)},t.H=function(){t.notifySubscribers(i,"beforeChange")},l.a.extend(t,l.m.fn),l.p(t,"peek",t.t),l.p(t,"valueHasMutated",t.G),l.p(t,"valueWillMutate",t.H),t},l.m.fn={equalityComparer:function(n,r){return n===t||typeof n in lt?n===r:i}},y=l.m.Kb="__ko_proto__",l.m.fn[y]=l.m,l.ma=function(u,f){return u===t||u===r||u[y]===r?i:u[y]===f?n:l.ma(u[y],f)},l.$=function(n){return l.ma(n,l.m)},l.Ra=function(t){return"function"==typeof t&&t[y]===l.m||"function"==typeof t&&t[y]===l.j&&t.zb?n:i},l.b("observable",l.m),l.b("isObservable",l.$),l.b("isWriteableObservable",l.Ra),l.R=function(n){0==arguments.length&&(n=[]),n!==t&&n!==r&&!("length"in n)&&u(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var i=l.m(n);return l.a.extend(i,l.R.fn),i},l.R.fn={remove:function(n){for(var u,r=this.t(),i=[],f="function"==typeof n?n:function(t){return t===n},t=0;t<r.length;t++)u=r[t],f(u)&&(0===i.length&&this.H(),i.push(u),r.splice(t,1),t--);return i.length&&this.G(),i},removeAll:function(n){if(n===r){var t=this.t(),i=t.slice(0);return this.H(),t.splice(0,t.length),this.G(),i}return n?this.remove(function(t){return 0<=l.a.i(n,t)}):[]},destroy:function(t){var r=this.t(),u="function"==typeof t?t:function(n){return n===t},i;for(this.H(),i=r.length-1;0<=i;i--)u(r[i])&&(r[i]._destroy=n);this.G()},destroyAll:function(t){return t===r?this.destroy(s(n)):t?this.destroy(function(n){return 0<=l.a.i(t,n)}):[]},indexOf:function(n){var t=this();return l.a.i(t,n)},replace:function(n,t){var i=this.indexOf(n);0<=i&&(this.H(),this.t()[i]=t,this.G())}},l.a.o("pop push reverse shift sort splice unshift".split(" "),function(n){l.R.fn[n]=function(){var t=this.t();return this.H(),t=t[n].apply(t,arguments),this.G(),t}}),l.a.o(["slice"],function(n){l.R.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}}),l.b("observableArray",l.R),l.j=function(f,e,o){function tt(){l.a.o(c,function(n){n.B()}),c=[]}function ut(){var n=h.throttleEvaluation;n&&0<=n?(clearTimeout(g),g=setTimeout(w,n)):w()}function w(){var t,f,u;if(!k)if(p&&d())v();else{k=n;try{for(t=l.a.V(c,function(n){return n.target}),l.r.mb(function(n){var i;0<=(i=l.a.i(t,n))?t[i]=r:c.push(n.ya(ut))}),f=a.call(e),u=t.length-1;0<=u;u--)t[u]&&c.splice(u,1)[0].B();p=n,h.notifySubscribers(y,"beforeChange"),y=f}finally{l.r.end()}h.notifySubscribers(y),k=i,c.length||v()}}function h(){return 0<arguments.length?("function"==typeof nt?nt.apply(e,arguments):u(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")),this):(p||w(),l.r.Wa(h),y)}function it(){return!p||0<c.length}var y,p=i,k=i,a=f,rt,d;a&&"object"==typeof a?(o=a,a=o.read):(o=o||{},a||(a=o.read)),"function"!=typeof a&&u(Error("Pass a function that returns the value of the ko.computed"));var nt=o.write,b=o.disposeWhenNodeIsRemoved||o.W||t,d=o.disposeWhen||o.Ka||s(i),v=tt,c=[],g=t;return e||(e=o.owner),h.t=function(){return p||w(),y},h.xb=function(){return c.length},h.zb="function"==typeof o.write,h.B=function(){v()},h.pa=it,l.S.call(h),l.a.extend(h,l.j.fn),l.p(h,"peek",h.t),l.p(h,"dispose",h.B),l.p(h,"isActive",h.pa),l.p(h,"getDependenciesCount",h.xb),o.deferEvaluation!==n&&w(),b&&it()&&(v=function(){l.a.F.Xa(b,arguments.callee),tt()},l.a.F.Ca(b,v),rt=d,d=function(){return!l.a.X(b)||rt()}),h},l.Bb=function(n){return l.ma(n,l.j)},h=l.m.Kb,l.j[h]=l.m,l.j.fn={},l.j.fn[h]=l.j,l.b("dependentObservable",l.j),l.b("computed",l.j),l.b("isComputed",l.Bb),l.gb=function(n){return 0==arguments.length&&u(Error("When calling ko.toJS, pass the object you want to convert.")),yt(n,function(n){for(var t=0;l.$(n)&&10>t;t++)n=n();return n})},l.toJSON=function(n,t,i){return n=l.gb(n),l.a.xa(n,t,i)},l.b("toJS",l.gb),l.b("toJSON",l.toJSON),l.k={q:function(t){switch(l.a.u(t)){case"option":return t.__ko__hasDomDataOptionValue__===n?l.a.f.get(t,l.c.options.sa):7>=l.a.Z?t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?l.k.q(t.options[t.selectedIndex]):r;default:return t.value}},T:function(i,u){switch(l.a.u(i)){case"option":switch(typeof u){case"string":l.a.f.set(i,l.c.options.sa,r),"__ko__hasDomDataOptionValue__"in i&&delete i.__ko__hasDomDataOptionValue__,i.value=u;break;default:l.a.f.set(i,l.c.options.sa,u),i.__ko__hasDomDataOptionValue__=n,i.value="number"==typeof u?u:""}break;case"select":for(var f=i.options.length-1;0<=f;f--)if(l.k.q(i.options[f])==u){i.selectedIndex=f;break}break;default:(u===t||u===r)&&(u=""),i.value=u}}},l.b("selectExtensions",l.k),l.b("selectExtensions.readValue",l.k.q),l.b("selectExtensions.writeValue",l.k.T);var ni=/\@ko_token_(\d+)\@/g,ti=["true","false"],ii=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;l.g={Q:[],aa:function(n){var i=l.a.D(n),f,e,r,u;if(3>i.length)return[];for("{"===i.charAt(0)&&(i=i.substring(1,i.length-1)),n=[],f=t,r=0;r<i.length;r++)if(u=i.charAt(r),f===t)switch(u){case'"':case"'":case"/":f=r,e=u}else if(u==e&&"\\"!==i.charAt(r-1)){u=i.substring(f,r+1),n.push(u);var h="@ko_token_"+(n.length-1)+"@",i=i.substring(0,f)+h+i.substring(r+1),r=r-(u.length-h.length),f=t}e=f=t;for(var o=0,s=t,r=0;r<i.length;r++){if(u=i.charAt(r),f===t)switch(u){case"{":f=r,s=u,e="}";break;case"(":f=r,s=u,e=")";break;case"[":f=r,s=u,e="]"}u===s?o++:u===e&&(o--,0===o&&(u=i.substring(f,r+1),n.push(u),h="@ko_token_"+(n.length-1)+"@",i=i.substring(0,f)+h+i.substring(r+1),r-=u.length-h.length,f=t))}for(e=[],i=i.split(","),f=0,r=i.length;f<r;f++)o=i[f],s=o.indexOf(":"),0<s&&s<o.length-1?(u=o.substring(s+1),e.push({key:nt(o.substring(0,s),n),value:nt(u,n)})):e.push({unknown:nt(o,n)});return e},ba:function(n){var e="string"==typeof n?l.g.aa(n):n,f=[],r,s,o,u;for(n=[],s=0;r=e[s];s++)if(0<f.length&&f.push(","),r.key){n:{o=r.key,u=l.a.D(o);switch(u.length&&u.charAt(0)){case"'":case'"':break n;default:o="'"+u+"'"}}r=r.value,f.push(o),f.push(":"),f.push(r),r=l.a.D(r),0<=l.a.i(ti,l.a.D(r).toLowerCase())?r=i:(u=r.match(ii),r=u===t?i:u[1]?"Object("+u[1]+")"+u[2]:r),r&&(0<n.length&&n.push(", "),n.push(o+" : function(__ko_value) { "+r+" = __ko_value; }"))}else r.unknown&&f.push(r.unknown);return e=f.join(""),0<n.length&&(e=e+", '_ko_property_writers' : { "+n.join("")+" } "),e},Eb:function(t,r){for(var u=0;u<t.length;u++)if(l.a.D(t[u].key)==r)return n;return i},ea:function(n,t,i,r,u){n&&l.Ra(n)?(!u||n.t()!==r)&&n(r):(n=t()._ko_property_writers)&&n[i]&&n[i](r)}},l.b("expressionRewriting",l.g),l.b("expressionRewriting.bindingRewriteValidators",l.g.Q),l.b("expressionRewriting.parseObjectLiteral",l.g.aa),l.b("expressionRewriting.preProcessBindings",l.g.ba),l.b("jsonExpressionRewriting",l.g),l.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",l.g.ba);var p="<!--test-->"===e.createComment("test").text,ri=p?/^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,ui=p?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,fi={ul:n,ol:n};l.e={I:{},childNodes:function(n){return a(n)?ut(n):n.childNodes},Y:function(n){if(a(n)){n=l.e.childNodes(n);for(var t=0,i=n.length;t<i;t++)l.removeNode(n[t])}else l.a.ka(n)},N:function(n,t){if(a(n)){l.e.Y(n);for(var r=n.nextSibling,i=0,u=t.length;i<u;i++)r.parentNode.insertBefore(t[i],r)}else l.a.N(n,t)},Va:function(n,t){a(n)?n.parentNode.insertBefore(t,n.nextSibling):n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},Pa:function(n,t,i){i?a(n)?n.parentNode.insertBefore(t,i.nextSibling):i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):l.e.Va(n,t)},firstChild:function(n){return a(n)?!n.nextSibling||b(n.nextSibling)?t:n.nextSibling:n.firstChild},nextSibling:function(n){return a(n)&&(n=st(n)),n.nextSibling&&b(n.nextSibling)?t:n.nextSibling},jb:function(n){return(n=a(n))?n[1]:t},Ta:function(i){var e,r,u,f;if(fi[l.a.u(i)]&&(e=i.firstChild,e))do if(1===e.nodeType){if(r=e.firstChild,u=t,r)do u?u.push(r):a(r)?(f=st(r,n),f?r=f:u=[r]):b(r)&&(u=[r]);while(r=r.nextSibling);if(r=u)for(u=e.nextSibling,f=0;f<r.length;f++)u?i.insertBefore(r[f],u):i.appendChild(r[f])}while(e=e.nextSibling)}},l.b("virtualElements",l.e),l.b("virtualElements.allowedBindings",l.e.I),l.b("virtualElements.emptyNode",l.e.Y),l.b("virtualElements.insertAfter",l.e.Pa),l.b("virtualElements.prepend",l.e.Va),l.b("virtualElements.setDomNodeChildren",l.e.N),l.J=function(){this.Ha={}},l.a.extend(l.J.prototype,{nodeHasBindings:function(n){switch(n.nodeType){case 1:return n.getAttribute("data-bind")!=t;case 8:return l.e.jb(n)!=t;default:return i}},getBindings:function(n,i){var r=this.getBindingsString(n,i);return r?this.parseBindingsString(r,i,n):t},getBindingsString:function(n){switch(n.nodeType){case 1:return n.getAttribute("data-bind");case 8:return l.e.jb(n);default:return t}},parseBindingsString:function(n,t,i){var r,f,e,o;try{return(r=this.Ha[n])||(f=this.Ha,o="with($context){with($data||{}){return{"+l.g.ba(n)+"}}}",e=new Function("$context","$element",o),r=f[n]=e),r(t,i)}catch(s){u(Error("Unable to parse bindings.\nMessage: "+s+";\nBindings value: "+n))}}}),l.J.instance=new l.J,l.b("bindingProvider",l.J),l.c={},l.z=function(n,t,i){t?(l.a.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=n,this.ko=l),this.$data=n,i&&(this[i]=n)},l.z.prototype.createChildContext=function(n,t){return new l.z(n,this,t)},l.z.prototype.extend=function(n){var t=l.a.extend(new l.z,this);return l.a.extend(t,n)},l.eb=function(n,t){if(2==arguments.length)l.a.f.set(n,"__ko_bindingContext__",t);else return l.a.f.get(n,"__ko_bindingContext__")},l.Fa=function(t,i,r){return 1===t.nodeType&&l.e.Ta(t),pt(t,i,r,n)},l.Ea=function(t,i){(1===i.nodeType||8===i.nodeType)&&bt(t,i,n)},l.Da=function(t,i){i&&1!==i.nodeType&&8!==i.nodeType&&u(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")),i=i||o.document.body,wt(t,i,n)},l.ja=function(n){switch(n.nodeType){case 1:case 8:var t=l.eb(n);if(t)return t;if(n.parentNode)return l.ja(n.parentNode)}return r},l.pb=function(n){return(n=l.ja(n))?n.$data:r},l.b("bindingHandlers",l.c),l.b("applyBindings",l.Da),l.b("applyBindingsToDescendants",l.Ea),l.b("applyBindingsToNode",l.Fa),l.b("contextFor",l.ja),l.b("dataFor",l.pb),d={"class":"className","for":"htmlFor"},l.c.attr={update:function(n,u){var s=l.a.d(u())||{},f,e,o;for(f in s)"string"==typeof f&&(e=l.a.d(s[f]),o=e===i||e===t||e===r,o&&n.removeAttribute(f),8>=l.a.Z&&f in d?(f=d[f],o?n.removeAttribute(f):n[f]=e):o||n.setAttribute(f,e.toString()),"name"===f&&l.a.ab(n,o?"":e.toString()))}},l.c.checked={init:function(t,i,r){l.a.n(t,"click",function(){var u,f,e;if("checkbox"==t.type)u=t.checked;else if("radio"==t.type&&t.checked)u=t.value;else return;f=i(),e=l.a.d(f),"checkbox"==t.type&&e instanceof Array?(u=l.a.i(e,t.value),t.checked&&0>u?f.push(t.value):!t.checked&&0<=u&&f.splice(u,1)):l.g.ea(f,r,"checked",u,n)}),"radio"==t.type&&!t.name&&l.c.uniqueName.init(t,s(n))},update:function(n,t){var i=l.a.d(t());"checkbox"==n.type?n.checked=i instanceof Array?0<=l.a.i(i,n.value):i:"radio"==n.type&&(n.checked=n.value==i)}},l.c.css={update:function(t,r){var u=l.a.d(r()),f,e;if("object"==typeof u)for(f in u)e=l.a.d(u[f]),l.a.da(t,f,e);else u=String(u||""),l.a.da(t,t.__ko__cssValue,i),t.__ko__cssValue=u,l.a.da(t,u,n)}},l.c.enable={update:function(t,i){var r=l.a.d(i());r&&t.disabled?t.removeAttribute("disabled"):!r&&!t.disabled&&(t.disabled=n)}},l.c.disable={update:function(n,t){l.c.enable.update(n,function(){return!l.a.d(t())})}},l.c.event={init:function(t,r,u,f){var o=r()||{},e;for(e in o)(function(){var o=e;"string"==typeof o&&l.a.n(t,o,function(t){var s,h=r()[o],c,e;if(h){c=u();try{e=l.a.L(arguments),e.unshift(f),s=h.apply(f,e)}finally{s!==n&&(t.preventDefault?t.preventDefault():t.returnValue=i)}c[o+"Bubble"]===i&&(t.cancelBubble=n,t.stopPropagation&&t.stopPropagation())}})})()}},l.c.foreach={Sa:function(n){return function(){var i=n(),t=l.a.ua(i);return!t||"number"==typeof t.length?{foreach:i,templateEngine:l.C.oa}:(l.a.d(i),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:l.C.oa})}},init:function(n,t){return l.c.template.init(n,l.c.foreach.Sa(t))},update:function(n,t,i,r,u){return l.c.template.update(n,l.c.foreach.Sa(t),i,r,u)}},l.g.Q.foreach=i,l.e.I.foreach=n,l.c.hasfocus={init:function(r,u,f){function e(t){r.__ko_hasfocusUpdating=n;var e=r.ownerDocument;"activeElement"in e&&(t=e.activeElement===r),e=u(),l.g.ea(e,f,"hasfocus",t,n),r.__ko_hasfocusUpdating=i}var o=e.bind(t,n),s=e.bind(t,i);l.a.n(r,"focus",o),l.a.n(r,"focusin",o),l.a.n(r,"blur",s),l.a.n(r,"focusout",s)},update:function(n,i){var r=l.a.d(i());n.__ko_hasfocusUpdating||(r?n.focus():n.blur(),l.r.K(l.a.Ba,t,[n,r?"focusin":"focusout"]))}},l.c.html={init:function(){return{controlsDescendantBindings:n}},update:function(n,t){l.a.ca(n,t())}},k="__ko_withIfBindingData",g("if"),g("ifnot",i,n),g("with",n,i,function(n,t){return n.createChildContext(t)}),l.c.options={update:function(t,i,f){var c,h,a,s;"select"!==l.a.u(t)&&u(Error("options binding applies only to SELECT elements"));for(var p=0==t.length,w=l.a.V(l.a.fa(t.childNodes,function(n){return n.tagName&&"option"===l.a.u(n)&&n.selected}),function(n){return l.k.q(n)||n.innerText||n.textContent}),b=t.scrollTop,o=l.a.d(i());0<t.length;)l.A(t.options[0]),t.remove(0);if(o){for(f=f(),c=f.optionsIncludeDestroyed,"number"!=typeof o.length&&(o=[o]),f.optionsCaption&&(h=e.createElement("option"),l.a.ca(h,f.optionsCaption),l.k.T(h,r),t.appendChild(h)),i=0,a=o.length;i<a;i++)if(s=o[i],!s||!s._destroy||c){var h=e.createElement("option"),v=function(n,t,i){var r=typeof t;return"function"==r?t(n):"string"==r?n[t]:i},y=v(s,f.optionsValue,s);l.k.T(h,l.a.d(y)),s=v(s,f.optionsText,y),l.a.cb(h,s),t.appendChild(h)}for(o=t.getElementsByTagName("option"),i=c=0,a=o.length;i<a;i++)0<=l.a.i(w,l.k.q(o[i]))&&(l.a.bb(o[i],n),c++);t.scrollTop=b,p&&"value"in f&&kt(t,l.a.ua(f.value),n),l.a.ub(t)}}},l.c.options.sa="__ko.optionValueDomData__",l.c.selectedOptions={init:function(n,t,i){l.a.n(n,"change",function(){var u=t(),r=[];l.a.o(n.getElementsByTagName("option"),function(n){n.selected&&r.push(l.k.q(n))}),l.g.ea(u,i,"value",r)})},update:function(n,t){"select"!=l.a.u(n)&&u(Error("values binding applies only to SELECT elements"));var i=l.a.d(t());i&&"number"==typeof i.length&&l.a.o(n.getElementsByTagName("option"),function(n){var t=0<=l.a.i(i,l.k.q(n));l.a.bb(n,t)})}},l.c.style={update:function(n,t){var r=l.a.d(t()||{}),i,u;for(i in r)"string"==typeof i&&(u=l.a.d(r[i]),n.style[i]=u||"")}},l.c.submit={init:function(t,r,f,e){"function"!=typeof r()&&u(Error("The value for a submit binding must be a function")),l.a.n(t,"submit",function(u){var f,o=r();try{f=o.call(e,t)}finally{f!==n&&(u.preventDefault?u.preventDefault():u.returnValue=i)}})}},l.c.text={update:function(n,t){l.a.cb(n,t())}},l.e.I.text=n,l.c.uniqueName={init:function(n,t){if(t()){var i="ko_unique_"+ ++l.c.uniqueName.ob;l.a.ab(n,i)}}},l.c.uniqueName.ob=0,l.c.value={init:function(t,r,u){function o(){s=i;var n=r(),f=l.k.q(t);l.g.ea(n,u,"value",f)}var f=["change"],e=u().valueUpdate,s=i;e&&("string"==typeof e&&(e=[e]),l.a.P(f,e),f=l.a.Ga(f)),l.a.Z&&"input"==t.tagName.toLowerCase()&&"text"==t.type&&"off"!=t.autocomplete&&(!t.form||"off"!=t.form.autocomplete)&&-1==l.a.i(f,"propertychange")&&(l.a.n(t,"propertychange",function(){s=n}),l.a.n(t,"blur",function(){s&&o()})),l.a.o(f,function(n){var i=o;l.a.Ob(n,"after")&&(i=function(){setTimeout(o,0)},n=n.substring(5)),l.a.n(t,n,i)})},update:function(t,r){var e="select"===l.a.u(t),f=l.a.d(r()),u=l.k.q(t),o=f!=u;0===f&&0!==u&&"0"!==u&&(o=n),o&&(u=function(){l.k.T(t,f)},u(),e&&setTimeout(u,0)),e&&0<t.length&&kt(t,f,i)}},l.c.visible={update:function(n,t){var i=l.a.d(t()),r="none"!=n.style.display;i&&!r?n.style.display="":!i&&r&&(n.style.display="none")}},l.c.click={init:function(n,t,i,r){return l.c.event.init.call(this,n,function(){var n={};return n.click=t(),n},i,r)}},l.v=function(){},l.v.prototype.renderTemplateSource=function(){u(Error("Override renderTemplateSource"))},l.v.prototype.createJavaScriptEvaluatorBlock=function(){u(Error("Override createJavaScriptEvaluatorBlock"))},l.v.prototype.makeTemplateSource=function(n,t){if("string"==typeof n){t=t||e;var i=t.getElementById(n);return i||u(Error("Cannot find template with ID "+n)),new l.l.h(i)}if(1==n.nodeType||8==n.nodeType)return new l.l.O(n);u(Error("Unknown template type: "+n))},l.v.prototype.renderTemplate=function(n,t,i,r){return n=this.makeTemplateSource(n,r),this.renderTemplateSource(n,t,i)},l.v.prototype.isTemplateRewritten=function(t,r){return this.allowTemplateRewriting===i?n:this.makeTemplateSource(t,r).data("isRewritten")},l.v.prototype.rewriteTemplate=function(t,i,r){t=this.makeTemplateSource(t,r),i=i(t.text()),t.text(i),t.data("isRewritten",n)},l.b("templateEngine",l.v),ft=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,vt=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g,l.za={vb:function(n,t,i){t.isTemplateRewritten(n,i)||t.rewriteTemplate(n,function(n){return l.za.Gb(n,t)},i)},Gb:function(n,t){return n.replace(ft,function(n,i,r,u,f,e,o){return at(o,i,t)}).replace(vt,function(n,i){return at(i,"<!-- ko -->",t)})},kb:function(n){return l.s.ra(function(t,i){t.nextSibling&&l.Fa(t.nextSibling,n,i)})}},l.b("__tr_ambtns",l.za.kb),l.l={},l.l.h=function(n){this.h=n},l.l.h.prototype.text=function(){var n=l.a.u(this.h),n="script"===n?"text":"textarea"===n?"value":"innerHTML",t;if(0==arguments.length)return this.h[n];t=arguments[0],"innerHTML"===n?l.a.ca(this.h,t):this.h[n]=t},l.l.h.prototype.data=function(n){if(1===arguments.length)return l.a.f.get(this.h,"templateSourceData_"+n);l.a.f.set(this.h,"templateSourceData_"+n,arguments[1])},l.l.O=function(n){this.h=n},l.l.O.prototype=new l.l.h,l.l.O.prototype.text=function(){if(0==arguments.length){var n=l.a.f.get(this.h,"__ko_anon_template__")||{};return n.Aa===r&&n.ia&&(n.Aa=n.ia.innerHTML),n.Aa}l.a.f.set(this.h,"__ko_anon_template__",{Aa:arguments[0]})},l.l.h.prototype.nodes=function(){if(0==arguments.length)return(l.a.f.get(this.h,"__ko_anon_template__")||{}).ia;l.a.f.set(this.h,"__ko_anon_template__",{ia:arguments[0]})},l.b("templateSources",l.l),l.b("templateSources.domElement",l.l.h),l.b("templateSources.anonymousTemplate",l.l.O),l.wa=function(n){n!=r&&!(n instanceof l.v)&&u(Error("templateEngine must inherit from ko.templateEngine")),tt=n},l.va=function(n,i,f,e,o){if(f=f||{},(f.templateEngine||tt)==r&&u(Error("Set a template engine before calling renderTemplate")),o=o||"replaceChildren",e){var s=rt(e);return l.j(function(){var t=i&&i instanceof l.z?i:new l.z(l.a.d(i)),r="function"==typeof n?n(t.$data,t):n,t=ot(e,o,r,t,f);"replaceNode"==o&&(e=t,s=rt(e))},t,{Ka:function(){return!s||!l.a.X(s)},W:s&&"replaceNode"==o?s.parentNode:s})}return l.s.ra(function(t){l.va(n,i,f,t,"replaceNode")})},l.Mb=function(n,i,u,f,e){function s(n,t){ht(t,o),u.afterRender&&u.afterRender(t,n)}function h(i,r){o=e.createChildContext(l.a.d(i),u.as),o.$index=r;var f="function"==typeof n?n(i,o):n;return ot(t,"ignoreTargetNode",f,o,u)}var o;return l.j(function(){var n=l.a.d(i)||[];"undefined"==typeof n.length&&(n=[n]),n=l.a.fa(n,function(n){return u.includeDestroyed||n===r||n===t||!l.a.d(n._destroy)}),l.r.K(l.a.$a,t,[f,n,h,u,s])},t,{W:f})},l.c.template={init:function(t,i){var r=l.a.d(i());return"string"==typeof r||r.name||1!=t.nodeType&&8!=t.nodeType||(r=1==t.nodeType?t.childNodes:l.e.childNodes(t),r=l.a.Hb(r),new l.l.O(t).nodes(r)),{controlsDescendantBindings:n}},update:function(i,u,f,e,o){u=l.a.d(u()),f={},e=n;var s,h=t;"string"!=typeof u&&(f=u,u=f.name,"if"in f&&(e=l.a.d(f["if"])),e&&"ifnot"in f&&(e=!l.a.d(f.ifnot)),s=l.a.d(f.data)),"foreach"in f?h=l.Mb(u||i,e&&f.foreach||[],f,i,o):e?(o="data"in f?o.createChildContext(s,f.as):o,h=l.va(u||i,o,f,i)):l.e.Y(i),o=h,(s=l.a.f.get(i,"__ko__templateComputedDomDataKey__"))&&"function"==typeof s.B&&s.B(),l.a.f.set(i,"__ko__templateComputedDomDataKey__",o&&o.pa()?o:r)}},l.g.Q.template=function(n){return n=l.g.aa(n),1==n.length&&n[0].unknown||l.g.Eb(n,"name")?t:"This template engine does not support anonymous templates nested within its templates"},l.e.I.template=n,l.b("setTemplateEngine",l.wa),l.b("renderTemplate",l.va),l.a.Ja=function(n,t,i){return n=n||[],t=t||[],n.length<=t.length?et(n,t,"added","deleted",i):et(t,n,"deleted","added",i)},l.b("utils.compareArrays",l.a.Ja),l.a.$a=function(t,i,u,f,e){function rt(n,t){o=tt[t],d!==t&&(nt[n]=o),o.na(d++),it(o.M),k.push(o),y.push(o)}function p(n,t){if(n)for(var i=0,r=t.length;i<r;i++)t[i]&&l.a.o(t[i].M,function(r){n(r,i,t[i].U)})}var s,v,ut;i=i||[],f=f||{};var v=l.a.f.get(t,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===r,tt=l.a.f.get(t,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],b=l.a.V(tt,function(n){return n.U}),c=l.a.Ja(b,i),k=[],h=0,d=0,g=[],y=[];i=[];for(var nt=[],b=[],o,s=0,w,a;w=c[s];s++)switch(a=w.moved,w.status){case"deleted":a===r&&(o=tt[h],o.j&&o.j.B(),g.push.apply(g,it(o.M)),f.beforeRemove&&(i[s]=o,y.push(o))),h++;break;case"retained":rt(s,h++);break;case"added":a!==r?rt(s,a):(o={U:w.value,na:l.m(d++)},k.push(o),y.push(o),v||(b[s]=o))}for(p(f.beforeMove,nt),l.a.o(g,f.beforeRemove?l.A:l.removeNode),s=0,v=l.e.firstChild(t);o=y[s];s++){for(o.M||l.a.extend(o,ei(t,u,o.U,e,o.na)),h=0;c=o.M[h];v=c.nextSibling,ut=c,h++)c!==v&&l.e.Pa(t,c,ut);!o.Ab&&e&&(e(o.U,o.M,o.na),o.Ab=n)}p(f.beforeRemove,i),p(f.afterMove,nt),p(f.afterAdd,b),l.a.f.set(t,"setDomNodeChildrenFromArrayMapping_lastMappingResult",k)},l.b("utils.setDomNodeChildrenFromArrayMapping",l.a.$a),l.C=function(){this.allowTemplateRewriting=i},l.C.prototype=new l.v,l.C.prototype.renderTemplateSource=function(i){var r=!(9>l.a.Z)&&i.nodes?i.nodes():t;return r?l.a.L(r.cloneNode(n).childNodes):(i=i.text(),l.a.ta(i))},l.C.oa=new l.C,l.wa(l.C.oa),l.b("nativeTemplateEngine",l.C),l.qa=function(){var n=this.Db=function(){if("undefined"==typeof f||!f.tmpl)return 0;try{if(0<=f.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(n){}return 1}();this.renderTemplateSource=function(i,r,o){o=o||{},2>n&&u(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var s=i.data("precompiled");return s||(s=i.text()||"",s=f.template(t,"{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}"),i.data("precompiled",s)),i=[r.$data],r=f.extend({koBindingContext:r},o.templateOptions),r=f.tmpl(s,i,r),r.appendTo(e.createElement("div")),f.fragments={},r},this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"},this.addTemplate=function(n,t){e.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")},0<n&&(f.tmpl.tag.ko_code={open:"__.push($1 || '');"},f.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},l.qa.prototype=new l.v,h=new l.qa,0<h.Db&&l.wa(h),l.b("jqueryTmplTemplateEngine",l.qa)}var n=!0,t=null,i=!1,o=window,e=document,c=navigator,f=window.jQuery,r=void 0;"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?h(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],h):h(o.ko={}),n}(),function(n){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?n(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],n):n(ko,ko.mapping={})}(function(n,t){function it(){for(var r=arguments,u=r.length,f={},e=[],t,n,i;u--;)for(i=r[u],t=i.length;t--;)n=i[t],f[n]||(f[n]=1,e.push(n));return e}function y(n,i){var u,r,f;for(r in i)i.hasOwnProperty(r)&&i[r]&&(u=t.getType(n[r]),r&&n[r]&&u!=="array"&&u!=="string"?y(n[r],i[r]):(f=t.getType(n[r])==="array"&&t.getType(i[r])==="array",n[r]=f?it(n[r],i[r]):i[r]))}function a(n,t){var i={};return y(i,n),y(i,t),i}function v(n,t){for(var i=a({},n),f,e=b.length-1;e>=0;e--)(f=b[e],i[f])&&(i[""]instanceof Object||(i[""]={}),i[""][f]=i[f],delete i[f]);return t&&(i.ignore=u(t.ignore,i.ignore),i.include=u(t.include,i.include),i.copy=u(t.copy,i.copy),i.observe=u(t.observe,i.observe)),i.ignore=u(i.ignore,r.ignore),i.include=u(i.include,r.include),i.copy=u(i.copy,r.copy),i.observe=u(i.observe,r.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function u(i,r){return t.getType(i)!=="array"&&(i=t.getType(i)==="undefined"?[]:[i]),t.getType(r)!=="array"&&(r=t.getType(r)==="undefined"?[]:[r]),n.utils.arrayGetDistinctValues(i.concat(r))}function rt(t,i){var u=n.dependentObservable,r;return n.dependentObservable=function(i,r,u){var f;u=u||{},i&&typeof i=="object"&&(u=i);var s=u.deferEvaluation,e=!1,h=function(i){var f=n.dependentObservable,u,r;return n.dependentObservable=o,u=n.isWriteableObservable(i),n.dependentObservable=f,r=o({read:function(){return e||(n.utils.arrayRemoveItem(t,i),e=!0),i.apply(i,arguments)},write:u&&function(n){return i(n)},deferEvaluation:!0}),ut&&(r._wrapper=!0),r.__DO=i,r};return u.deferEvaluation=!0,f=new o(i,r,u),s||(f=h(f),t.push(f)),f},n.dependentObservable.fn=o.fn,n.computed=n.dependentObservable,r=i(),n.dependentObservable=u,n.computed=n.dependentObservable,r}function l(r,u,e,o,v,y,p){var si=t.getType(n.utils.unwrapObservable(u))==="array",ti,ot,ii,ct,ui,kt,vt,bt,d,tt,wt,et,st;y=y||"",t.isMapped(r)&&(ti=n.utils.unwrapObservable(r)[i],e=a(ti,e));var ht={data:u,parent:p||v},lt=function(){return e[o]&&e[o].create instanceof Function},pt=function(t){return rt(h,function(){return n.utils.unwrapObservable(v)instanceof Array?e[o].create({data:t||ht.data,parent:ht.parent,skip:w}):e[o].create({data:t||ht.data,parent:ht.parent})})},ut=function(){return e[o]&&e[o].update instanceof Function},ft=function(t,i){var r={data:i||ht.data,parent:ht.parent,target:n.utils.unwrapObservable(t)};return n.isWriteableObservable(t)&&(r.observable=t),e[o].update(r)},ei=c.get(u);if(ei)return ei;if(o=o||"",si){var oi=[],fi=!1,b=function(n){return n};e[o]&&e[o].key&&(b=e[o].key,fi=!0),n.isObservable(r)||(r=n.observableArray([]),r.mappedRemove=function(n){var t=typeof n=="function"?n:function(t){return t===b(n)};return r.remove(function(n){return t(b(n))})},r.mappedRemoveAll=function(t){var i=f(t,b);return r.remove(function(t){return n.utils.arrayIndexOf(i,b(t))!=-1})},r.mappedDestroy=function(n){var t=typeof n=="function"?n:function(t){return t===b(n)};return r.destroy(function(n){return t(b(n))})},r.mappedDestroyAll=function(t){var i=f(t,b);return r.destroy(function(t){return n.utils.arrayIndexOf(i,b(t))!=-1})},r.mappedIndexOf=function(t){var i=f(r(),b),u=b(t);return n.utils.arrayIndexOf(i,u)},r.mappedGet=function(n){return r()[r.mappedIndexOf(n)]},r.mappedCreate=function(t){var i,u;if(r.mappedIndexOf(t)!==-1)throw new Error("There already is an object with the key that you specified.");return i=lt()?pt(t):t,ut()&&(u=ft(i,t),n.isWriteableObservable(i)?i(u):i=u),r.push(i),i}),ui=f(n.utils.unwrapObservable(r),b).sort(),kt=f(u,b),fi&&kt.sort();for(var ri=n.utils.compareArrays(ui,kt),yt={},dt=n.utils.unwrapObservable(u),gt={},ni=!0,it=0,at=dt.length;it<at;it++){if(d=b(dt[it]),d===undefined||d instanceof Object){ni=!1;break}gt[d]=dt[it]}for(vt=[],bt=0,it=0,at=ri.length;it<at;it++){d=ri[it],wt=y+"["+it+"]";switch(d.status){case"added":et=ni?gt[d.value]:s(n.utils.unwrapObservable(u),d.value,b),tt=l(undefined,et,e,o,r,wt,v),lt()||(tt=n.utils.unwrapObservable(tt)),st=k(n.utils.unwrapObservable(u),et,yt),tt===w?bt++:vt[st-bt]=tt,yt[st]=!0;break;case"retained":et=ni?gt[d.value]:s(n.utils.unwrapObservable(u),d.value,b),tt=s(r,d.value,b),l(tt,et,e,o,r,wt,v),st=k(n.utils.unwrapObservable(u),et,yt),vt[st]=tt,yt[st]=!0;break;case"deleted":tt=s(r,d.value,b)}oi.push({event:d.status,item:tt})}r(vt),e[o]&&e[o].arrayChanged&&n.utils.arrayForEach(oi,function(n){e[o].arrayChanged(n.event,n.item)})}else if(nt(u)){if(r=n.utils.unwrapObservable(r),!r){if(lt())return ct=pt(),ut()&&(ct=ft(ct)),ct;if(ut())return ft(ct);r={}}if(ut()&&(r=ft(r)),c.save(u,r),ut())return r;g(u,function(t){var f=y.length?y+"."+t:t;if(n.utils.arrayIndexOf(e.ignore,f)==-1){if(n.utils.arrayIndexOf(e.copy,f)!=-1){r[t]=u[t];return}if(typeof u[t]!="object"&&typeof u[t]!="array"&&e.observe.length>0&&n.utils.arrayIndexOf(e.observe,f)==-1){r[t]=u[t],e.copiedProperties[f]=!0;return}var o=c.get(u[t]),s=l(r[t],u[t],e,t,r,f,r),i=o||s;if(e.observe.length>0&&n.utils.arrayIndexOf(e.observe,f)==-1){r[t]=n.utils.unwrapObservable(i),e.copiedProperties[f]=!0;return}n.isWriteableObservable(r[t])?(i=n.utils.unwrapObservable(i),r[t]()!==i&&r[t](i)):(i=r[t]===undefined?i:n.utils.unwrapObservable(i),r[t]=i),e.mappedProperties[f]=!0}})}else switch(t.getType(u)){case"function":ut()?n.isWriteableObservable(u)?(u(ft(u)),r=u):r=ft(u):r=u;break;default:if(n.isWriteableObservable(r))return ut()?(ot=ft(r),r(ot),ot):(ot=n.utils.unwrapObservable(u),r(ot),ot);if(ii=lt()||ut(),r=lt()?pt():n.observable(n.utils.unwrapObservable(u)),ut()&&r(ft(r)),ii)return r}return r}function k(n,t,i){for(var r=0,u=n.length;r<u;r++)if(i[r]!==!0&&n[r]===t)return r;return null}function d(i,r){var u;return r&&(u=r(i)),t.getType(u)==="undefined"&&(u=i),n.utils.unwrapObservable(u)}function s(t,i,r){var u,e,f;for(t=n.utils.unwrapObservable(t),u=0,e=t.length;u<e;u++)if(f=t[u],d(f,r)===i)return f;throw new Error("When calling ko.update*, the key '"+i+"' was not found!");}function f(t,i){return n.utils.arrayMap(n.utils.unwrapObservable(t),function(n){return i?d(n,i):n})}function g(n,i){var r,u;if(t.getType(n)==="array")for(r=0;r<n.length;r++)i(r);else for(u in n)i(u)}function nt(n){var i=t.getType(n);return(i==="object"||i==="array")&&n!==null}function ft(n,i,r){var u=n||"";return t.getType(i)==="array"?n&&(u+="["+r+"]"):(n&&(u+="."),u+=r),u}function et(){var t=[],i=[];this.save=function(r,u){var f=n.utils.arrayIndexOf(t,r);f>=0?i[f]=u:(t.push(r),i.push(u))},this.get=function(r){var u=n.utils.arrayIndexOf(t,r);return u>=0?i[u]:undefined}}function tt(){var n={},t=function(t){var r,i;try{r=t}catch(u){r="$$$"}return i=n[r],i===undefined&&(i=new et,n[r]=i),i};this.save=function(n,i){t(n).save(n,i)},this.get=function(n){return t(n).get(n)}}var ut=!0,i="__ko_mapping__",o=n.dependentObservable,p=0,h,c,b=["create","update","key","arrayChanged"],w={},e={include:["_destroy"],ignore:[],copy:[],observe:[]},r=e;t.isMapped=function(t){var r=n.utils.unwrapObservable(t);return r&&r[i]},t.fromJS=function(n){var t,r,u,f;if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{if(p++||(h=[],c=new tt),arguments.length==2&&(arguments[1][i]?r=arguments[1]:t=arguments[1]),arguments.length==3&&(t=arguments[1],r=arguments[2]),r&&(t=a(t,r[i])),t=v(t),u=l(r,n,t),r&&(u=r),!--p)while(h.length)f=h.pop(),f&&(f(),f.__DO.throttleEvaluation=f.throttleEvaluation);return u[i]=a(u[i],t),u}catch(e){p=0;throw e;}},t.fromJSON=function(i){var r=n.utils.parseJson(i);return arguments[0]=r,t.fromJS.apply(this,arguments)},t.updateFromJS=function(){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");},t.updateFromJSON=function(){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");},t.toJS=function(u,f){if(r||t.resetDefaultOptions(),arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(t.getType(r.ignore)!=="array")throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(t.getType(r.include)!=="array")throw new Error("ko.mapping.defaultOptions().include should be an array.");if(t.getType(r.copy)!=="array")throw new Error("ko.mapping.defaultOptions().copy should be an array.");return f=v(f,u[i]),t.visitModel(u,function(t){return n.utils.unwrapObservable(t)},f)},t.toJSON=function(i,r){var u=t.toJS(i,r);return n.utils.stringifyJson(u)},t.defaultOptions=function(){if(arguments.length>0)r=arguments[0];else return r},t.resetDefaultOptions=function(){r={include:e.include.slice(0),ignore:e.ignore.slice(0),copy:e.copy.slice(0),observe:e.observe.slice(0)}},t.getType=function(n){if(n&&typeof n=="object"){if(n.constructor===Date)return"date";if(n.constructor===Array)return"array"}return typeof n},t.visitModel=function(r,u,f){var o,e,s;if(f=f||{},f.visitedObjects=f.visitedObjects||new tt,e=n.utils.unwrapObservable(r),nt(e))f=v(f,e[i]),u(r,f.parentName),o=t.getType(e)==="array"?[]:{};else return u(r,f.parentName);return f.visitedObjects.save(r,o),s=f.parentName,g(e,function(r){var h,l,c;if((!f.ignore||n.utils.arrayIndexOf(f.ignore,r)==-1)&&(h=e[r],f.parentName=ft(s,e,r),n.utils.arrayIndexOf(f.copy,r)!==-1||n.utils.arrayIndexOf(f.include,r)!==-1||!e[i]||!e[i].mappedProperties||e[i].mappedProperties[r]||!e[i].copiedProperties||e[i].copiedProperties[r]||t.getType(e)==="array"))switch(t.getType(n.utils.unwrapObservable(h))){case"object":case"array":case"undefined":c=f.visitedObjects.get(h),o[r]=t.getType(c)!=="undefined"?c:t.visitModel(h,u,f);break;default:o[r]=u(h,f.parentName)}}),o}}),$(function(){$("#divOptionsPanel input[type='checkbox']").attr("checked",!0),$("#divOptionsPanel input[type='checkbox']").click(function(){var n=$(this).attr("data-element-to-hide");$("#"+n).length&&$("#"+n).toggleClass("hidecontent"),$("."+n).length&&$("."+n).toggleClass("hidecontent")}),$(".btn_printcontent").click(function(){window.print()})}),$(function(){function u(){var n=$("#ForgotPasswordForm #reqEmail"),t=$("#ForgotPasswordForm #emailExists"),i=$("#ForgotPasswordForm #emailToken");n.hide(),t.hide(),i.hide()}function n(n){var i=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,t=!1;return n.length>0&&(t=n.match(i),!t)?!1:!0}var t,i,r;$("#newsletterPreferencesForm #reqEmail").hide(),$("#reqNewsletter").hide(),$("#rbnDIProfessional").click(function(){$("#rbnDIHobbyist").prop("checked",!1)}),$("#rbnDIHobbyist").click(function(){$("#rbnDIProfessional").prop("checked",!1)}),$("#chkSelectAll").click(function(){var i=$("#chkSelectAll");i.prop("checked")?($(".chkBox").prop("checked",!0),$("#rbnYes").prop("checked",!0),$("#rbnNo").prop("checked",!1),i.prop("checked",!0),UpdateSignUpBtnMetrics()):($(".chkBox").prop("checked",!1),$("#rbnYes").prop("checked",!1),$("#rbnNo").prop("checked",!0),i.prop("checked",!1),$("#btnNewsletterSignUp").attr("data-analytics-metrics",t))}),$("#btnNewsletterSignUp").click(function(n){var f=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,t=$("#newsletterPreferencesForm #txtEmail"),r=$("#newsletterPreferencesForm #reqEmail"),n=t.val(),i,u;if(n&&n!=""){if(!n.match(f))return r.show(),t.focus(),!1}else return r.show(),t.focus(),!1;return i=!1,$(".chkBox").each(function(){var n=this.checked?$(this).val():"";if(n==="true")return i=!0,!1}),u=$("#rbnYes").prop("checked"),u!==!1||i?!0:($("#reqNewsletter").show(),!1)}),$("#btnResetPassword").click(function(n){var r=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,t=$("#ForgotPasswordForm #txtEmail"),i=$("#ForgotPasswordForm #reqEmail"),n;if(u(),n=t.val(),n&&n!=""){if(!n.match(r))return i.show(),t.focus(),!1}else return i.show(),t.focus(),!1;return!0}),$("form[action*='/NewsletterSignUp/Add']").submit(function(){var r=$("input[type='text']",this),u=r.val(),i=n(u);return i||$("#valEMailAddress").removeClass("hidden"),i}),$("form[action*='/NewsletterSignUpPage/SignUp']").submit(function(){var r=$("input[type='text']",this),u=r.val(),i=n(u);return i||$("#valEMailAddress").removeClass("hidden"),i}),t='[{"key":"link_module","value":"newsletter list"}]',i=$(".dropdown-menu .twocolumns"),i.each(function(){var t=$(this).children().length;switch(t){case 2:$(this).width(300);break;case 3:$(this).width(540)}}),r=$("ul.dropdown-menu"),r.each(function(){var t=$(this).children().length;switch(t){case 0:$(this).css({border:"none",padding:"0px"})}})}),$(function(){var n=$(".email_form_container").clone(),t;if(!(n.length<1)){$(document).on("click","*[data-rd-email]",function(){var i=$($(this).data("target"));(t=i,i.length<1)||(i.hasClass("in")?($(".rd_email_collapse").removeClass("in"),ko.cleanNode($(".email_form_container",i)[0])):(i.append(n||$(".email_form_container")),ko.applyBindings(RD.ViewModel.Email.Singleton,$(".email_form_container",i)[0]),RD.ViewModel.Email.Singleton.contentId($(this).data("rd-email")),RD.ViewModel.Email.Singleton.contentType($(this).data("rd-email-content-type")),RD.ViewModel.Email.Singleton.emailType($(this).data("rd-email-email-type")),RD.ViewModel.Email.Singleton.subject($(this).data("rd-email-subject")),RD.ViewModel.Email.Singleton.subjectRequired($(this).data("rd-email-subject-required")),RD.ViewModel.Email.Singleton.message($(this).data("rd-email-message")),RD.ViewModel.Email.Singleton.reset(),$(".rd_email_collapse").removeClass("in"),i.addClass("in"),fixHeaderHeight=$("#fix_wrapper").height(),fixHeaderHeight=fixHeaderHeight+15,$("body, html").animate({scrollTop:i.offset().top-fixHeaderHeight},200)))});$(document).on("click",".rd_email_canel",function(){return $(".rd_email_collapse").removeClass("in"),ko.cleanNode($(".email_form_container",t)[0]),!1})}});$(window).on("load",function(){$(".rightcolumn iframe[id*='google_ads_iframe']").each(function(){try{var t=$(this).height(),n=$(this).contents().find(".GoogleActiveViewClass").height();t>n&&$(this).height(n)}catch(i){$(this).height("255px")}})});$("#btnChangePassword").click(function(n){var t=$("#ResetPasswordForm #txtPassword"),u=$("#ResetPasswordForm #txtConfirmPassword"),i=$("#ResetPasswordForm #reqPassMatch"),r=$("#ResetPasswordForm #passwordReq"),n=t.val(),f=u.val();return!n||n==""||n.length<3?(i.hide(),r.removeClass("hidden").show(),t.focus(),!1):n!=f?(r.addClass("hidden").hide(),i.show(),t.focus(),!1):!0}),$(function(){var r=$(".rd_right_col_rwd .rd_zone1_position0 div[id*='div-gpt-ad-'], .rd_right_col_rwd .rd_rightcol_module:first-child.rd_rightcol_module_adblock"),u=$(".rd_footer_sticky_ad_780_90"),e=r.length,n=r,f=n.height()||300,t=!1,i;e&&globalDeviceType!="Phone"||(n=$(".rd_header_ads .AdBlock"),f=n.height()||100);var o=function(){u.css({bottom:0})},s=function(){u.css({bottom:"-100%"})},h=function(){s(),t=!1};(document.cookie.indexOf("rd_footer_sticky_ad_780_90=1")<=-1&&(i=new Date,i.setTime(i.getTime()+864e5),t=!0,document.cookie="rd_footer_sticky_ad_780_90=1;expires="+i+";path=/;domain=.tasteofhome.com;"),t)&&($(".rd_footer_sticky_ad_780_90_close").click(function(){return h(),t=!1,!1}),$(window).scroll(function(){if(t&&n.offset()){var i=n.offset().top+f,r=$(window).scrollTop();r>i&&o()}}))}),function(){function l(n){new RD.Widget.Scroller({parentEl:$(".video-list_"+n+" .rd_video_playlist").get(0),animation:!0})}function k(t,i){n.catalog.getVideo(t,function(t,i){t==null&&n.catalog.load(i)}),i||$("html, body").animate({scrollTop:$("#popularVideoH1").offset().top+-160})}function a(t){n.catalog.getPlaylist(f[t],function(n,i){var f,r,u;if(!n){for(s.playlistsData.push(i[0].id),f="<div class='video-list_"+t+"'><h4 class='headerborder font24px'>"+c[t]+"</h4><div class='rd_section'><div class='rd_video_playlist' id='myPlaylistNamesID'><ul></ul> </div></div></div>",$(b).append(f),r=0;r<i.length;r++)u="",u=$('<li style="width: 220px;"><a style="margin: 5px !important;"><img src="'+i[r].poster+'" /><br /><span>'+i[r].name+"</span></a></li>"),$(".video-list_"+t+" ul").append(u),function(n,t){n.click(function(){k(t)})}(u,i[r].id);l(t)}})}function v(){videojs("myPlayerID").ready(function(){n=this,typeof IsAutoPlayEnabled!="undefined"&&IsAutoPlayEnabled=="True"&&(n.muted(!0),e(n));$(document).on("click touchend",".vjs-play-control",function(){h=!$(this).hasClass("vjs-paused")});for(var t=0;t<f.length;t++)a(t);n.on("ads-ad-started",function(){n.ima3.adPlayer.muted(!0)})})}function y(){videojs("myHomePagePlayerID").ready(function(){i=this,typeof IsAutoPlayEnabled!="undefined"&&IsAutoPlayEnabled=="True"&&(i.muted(!0),o(i));$(document).on("click touchend",".vjs-play-control",function(){h=!$(this).hasClass("vjs-paused")});i.on("ads-ad-started",function(){i.ima3.adPlayer.muted(!0)})})}var t;typeof Video_PlaylistId=="undefined"&&(Video_PlaylistId=4669603648001);var n,i,f=[Video_PlaylistId],c=["Similar Videos"],nt=f.length,s={};s.playlistsData=[];var b=document.getElementById("videoListContainer"),g=this,h=!1,d=!1,u=!1,r=!1;var p=function(n){var t=$(window).scrollTop(),r=t+$(window).height(),i=$(n).offset().top,u=i+$(n).height();return u>=t&&i<=r&&u<=r&&i>=t},w=function(n){var t=$(window).scrollTop(),r=t+$(window).height(),i=$(n).offset().top,u=i+$(n).height();return u>=t&&i<=r&&u<=r&&i>=t},e=function(){$("#myPlayerID").length&&r==!1&&(p(document.getElementById("myPlayerID"))?n.play():n.pause())},o=function(){$("#myHomePagePlayerID").length&&u==!1&&(w(document.getElementById("myHomePagePlayerID"))?i.play():i.pause())};if($("#myPlayerID").length){t=document.createElement("script"),t.async=!0,$("body").append(t),t.src="//players.brightcove.net/4276901677001/Bk7sRTxm_default/index.min.js";$(t).on("load",v)}if($("#myHomePagePlayerID").length){t=document.createElement("script"),t.async=!0,$("body").append(t),t.src="//players.brightcove.net/4276901677001/HkSBhbwN_default/index.min.js";$(t).on("load",y)}if(typeof IsAutoPlayEnabled!="undefined"&&IsAutoPlayEnabled=="True"){$(window).on("scroll",o);$(window).on("scroll",e);$("#myHomePagePlayerID").mouseenter(function(){u==!1&&i.muted(!1)}).mouseleave(function(){u==!1&&i.muted(!0)}),$("#myPlayerID").mouseenter(function(){r==!1&&n.muted(!1)}).mouseleave(function(){r==!1&&n.muted(!0)}),$("#myHomePagePlayerID").bind("mouseup touchend MozTouchRelease",function(){$(".vjs-play-control").hasClass("vjs-paused")==!1&&u==!1?i.muted(!1):u=!0}),$("#myPlayerID").bind("mouseup touchend MozTouchRelease",function(){$(".vjs-play-control").hasClass("vjs-paused")==!1&&r==!1?n.muted(!1):r=!0})}}(),typeof RD=="undefined"&&(RD={}),typeof RD.Widgets=="undefined"&&(RD.Widgets={}),function(n){var t=RD.Widgets.Registration={},i,r,u,s,f,l,e,o,h,c;t.Init=function(){r=n("#registrationForm #txtScreenName"),i=n("#registrationForm #txtEmail"),e=n("#registrationForm #txtPassword"),chkOver13=n("#registrationForm #chkOver13"),u=n("#registrationForm #reqScreenName"),s=n("#registrationForm #screenNameExist"),f=n("#registrationForm #validScreenName"),h=n("#registrationForm #screenNameBadWord"),reqEmail=n("#registrationForm #reqEmail"),o=n("#registrationForm #reqPassword"),reqOver13=n("#registrationForm #reqOver13"),c=n("#registrationForm .rd_all_error"),n("#registrationForm #btnJoinUs").click(function(){var i=t.Validate();return i?n("#registrationForm #btnJoinUs").hide():n("#registrationForm #btnJoinUs").show(),i})},t.ResetErrorMsgs=function(){reqEmail.hide(),o.hide(),u.hide(),s.hide(),f.hide(),reqOver13.hide(),h.hide(),c.hide(),n("#registrationForm #btnJoinUs").removeAttr("disabled")},t.Validate=function(){var n=!0,l=/^[a-zA-Z0-9_\-\.]*$/,a=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;t.ResetErrorMsgs();var s=r.val(),c=e.val(),h=i.val();return s&&s!=""?l.test(s)||(f.show(),r.focus(),n=!1):(u.show(),r.focus(),n=!1),h&&h!=""?h.match(a)||(reqEmail.show(),i.focus(),n=!1):(reqEmail.show(),i.focus(),n=!1),c&&c!=""||(o.show(),e.focus(),n=!1),chkOver13.is(":checked")||(reqOver13.show(),n=!1),n?!0:!1},n(function(){t.Init()})}($),LogInFunctionsToRun=[],CallBackFunctionsToRun=[],typeof RD=="undefined"&&(RD={}),typeof RD.Widgets=="undefined"&&(RD.Widgets={}),function(){function y(){var n=/^[a-zA-Z0-9_\-\.]*$/,i=t.val();n.test(i)?(u.hide(),$("#LoginOverlayForm #btnLogin").removeAttr("disabled"),$("#LoginOverlayForm #btnLoginMobile").removeAttr("disabled")):(u.show(),$("#LoginOverlayForm #btnLogin").attr("disabled","disabled"),$("#LoginOverlayForm #btnLoginMobile").attr("disabled","disabled"))}var n=RD.Widgets.Auth={},r,t,e,h,u,o,f,s,l,i,a,v,c;n.AuthenticationEl=null,n.Modal=null,n.AdministratorModeEl=null,n.Init=function(){n.Modal=$("#LoginOverlayForm"),n.Modal.modal({show:!1}),r=$("#LoginOverlayForm #txtUser"),t=$("#LoginOverlayForm #txtScreenName"),e=$("#LoginOverlayForm #reqScreenName"),h=$("#LoginOverlayForm #screenNameExist"),u=$("#LoginOverlayForm #validScreenName"),o=$("#LoginOverlayForm #reqUser"),f=$("#LoginOverlayForm #txtPass"),s=$("#LoginOverlayForm #reqPassword"),l=$("#LoginOverlayForm #chkRemember"),i=$("#LoginOverlayForm .rd_all_error"),a=$("#LoginOverlayForm .modal-title"),v=$("#LoginOverlayForm .rd_lo_subheading"),c=$("#EmailAddress").attr("placeholder"),n.ApplyRWDJoinPage();n.Modal.on("shown",function(){r.focus()});n.Modal.on("hidden",function(){RD.ViewModel.LoginPersonalizationVM.initialLoginDone(!1),t.val("")});$("#LoginOverlayForm #txtScreenName").keyup(y),$("#LoginOverlayForm #btnLogin").click(function(){var t="login overlay",i="login",r=window.location.href;return trackLinkComscore(t,i,r,!1,"None","None",null,"None"),n.DoLogin(),!1}),$("#LoginOverlayForm #btnLoginMobile").click(function(){return n.DoLogin(),!1});$(document).on("click","*[data-auth]",function(t){return n.AuthenticationEl=this,n.Authenticate(t,$(this)),t.preventDefault(),!1});$(document).on("click","*[data-auth-administrator-mode]",function(t){return n.AdministratorModeEl=this,n.AdministratorMode(t,$(this)),t.preventDefault(),!1})},n.SetOverlay=function(n,t){function i(n,t){n&&typeof n=="string"?(t.html(n),t.show()):t.hide()}i(n,a),i(t,v)},n.Authenticate=function(t,i){var r=RD.ViewModel.LoginPersonalizationVM.LoginStatus()==2?!0:!1;r?r&&i.attr("data-auth")=="false"?n.DoLogout():(n.HandleSuccess(),ExecuteCallBackFunctions()):(n.SetOverlay(i.attr("data-auth-title")||"Log in to enjoy membership benefits from The Family Handyman.",i.attr("data-auth-description")),n.ShowLoginOverlay(t,i))},n.AdministratorMode=function(){RD.ViewModel.LoginPersonalizationVM.IsAdministratorModeActive()?n.SetAdministratorMode(!1):n.SetAdministratorMode(!0)},n.AddLiveRampTags=function(n){var t=$.ajax({url:"/LiveRamp/Index",type:"GET",data:{emailId:n}}).done(function(){RD.ViewModel.LoginPersonalizationVM.liveRamp(t.responseText.toLowerCase())}).fail(function(){})},n.CleanLiveRampTags=function(){RD.ViewModel.LoginPersonalizationVM.liveRamp("")},n.RefreshLogInStatus=function(){$.ajaxSetup({cache:!1});var t=$.getJSON("/LogIn/IsLoggedIn").done(function(t){typeof RD.ViewModel.LoginPersonalizationVM!="undefined"&&ko.mapping.fromJS(t.loggedInMemberProfile,RD.ViewModel.LoginPersonalizationVM),!Modernizr.input.placeholder&&typeof RD.ViewModel.LoginPersonalizationVM!="undefined"&&RD.ViewModel.LoginPersonalizationVM.Email()==null&&c&&RD.ViewModel.LoginPersonalizationVM.Email(c),$("#divloginArea").show(),$(".loginplaceholder").css("height","auto");for(var i=0;i<LogInFunctionsToRun.length;i++)if(LogInFunctionsToRun[i]!="")try{typeof LogInFunctionsToRun[i]=="function"?LogInFunctionsToRun[i]():n.RunFunctions(LogInFunctionsToRun[i],[""])}catch(r){}n.HandleSuccess()}).fail(function(){n.HandleFailure(2,t)})},n.ResetErrorMsgs=function(){o.hide(),s.hide(),i.hide(),e.hide(),h.hide(),u.hide(),$("#LoginOverlayForm #btnLogin").removeAttr("disabled"),$("#LoginOverlayForm #btnLoginMobile").removeAttr("disabled")},n.ResetFields=function(){r.val(""),f.val(""),t.val("")},n.Validate=function(){n.ResetErrorMsgs();var i=r.val(),c=f.val();return i&&i!=""?c&&c!=""?RD.ViewModel.LoginPersonalizationVM.initialLoginDone()&&t.val()==t.attr("placeholder")?(e.show(),t.focus(),!1):(o.hide(),s.hide(),e.hide(),h.hide(),u.hide(),!0):(s.show(),f.focus(),!1):(o.show(),r.focus(),!1)},n.DoLogin=function(){if(!n.Validate())return!1;var i="https://"+document.location.href.match(/:\/\/(.[^/]+)/)[1],u={username:r.val(),password:f.val(),rememberMe:l.is(":checked"),screenName:t.attr("placeholder")==t.val()?null:t.val()};return $.getJSON(i+"/LogIn/LogIn?callback=?",u),!1},n.LoginSuccess=function(t){if(t.IsSuccess)n.HideLoginOverlay(),n.RefreshLogInStatus();else{(t.errorMsg&&t.errorMsg=="No Username"||t.errorMsg=="Your username cannot contain spaces or special characters"||t.errorMsg=="Username already exists")&&RD.ViewModel.LoginPersonalizationVM.initialLoginDone(!0),i.show();switch(t.statusCode){case 400:i.html(t.errorMsg);break;default:i.html("Could not process your request")}}},n.DoLogout=function(){$.ajaxSetup({cache:!1});var t=$.ajax("/LogIn/LogOut").done(function(){n.RefreshLogInStatus(),n.CheckPageIsGated()}).fail(function(){})},n.SetAdministratorMode=function(t){var i=$.post("/login/administratormode",{adminModeEnabled:t}).done(function(){n.RefreshLogInStatus()}).fail(function(){});return!1},n.ShowLoginOverlay=function(t,i){n.ResetErrorMsgs(),n.Modal.modal("show");var r=i.attr("data-auth-registrationsource")||"",e=i.attr("href"),u=$("#hypLoginOverlayJoinNow"),f=$("#hypLoginOverlayJoinNowMobile");u.attr("href",r),f.attr("href",r)},n.HideLoginOverlay=function(){n.Modal.modal("hide"),RD.ViewModel.LoginPersonalizationVM.initialLoginDone(!1)},n.HandleSuccess=function(){var o=!1;typeof RD.ViewModel.LoginPersonalizationVM!="undefined"&&(o=RD.ViewModel.LoginPersonalizationVM.LoginStatus()==2?!0:!1);var r=$(n.AuthenticationEl),t=r.attr("href"),s=r.attr("data-auth"),u=r.attr("data-auth-callback"),f=window[u],e=!0,i=r.attr("data-auth-isdependant");i=i!=undefined&&i=="true",typeof f=="function"&&(i?CallBackFunctionsToRun[CallBackFunctionsToRun.length]=u:e=f()),e!==!1&&t&&t!=""&&t!="#"&&(i?CallBackFunctionsToRun[CallBackFunctionsToRun.length]=t:document.location=t)},n.HandleFailure=function(n,t){i.show();switch(t.status){case 400:i.html(t.getResponseHeader("FriendlyError"));break;default:i.html(t.getResponseHeader("Could not process your request"))}},n.RunFunctions=function(n,t){var i=window[n];typeof i=="function"&&i.apply(window,t)},n.CheckPageIsGated=function(){$.getJSON("/LogIn/CheckIsPageGated",function(n){n.IsPageGated&&(window.location="/")})},n.ApplyRWDJoinPage=function(){var n="/Join-Now.aspx",t="access/forgotpassword.aspx";$("#lnkJoinUs").attr("href")&&($("#lnkJoinUs").attr("href",$("#lnkJoinUs").attr("href").replace(n,"/registration/createaccount")),$("#lnkJointdy").attr("href",$("#lnkJoinUs").attr("href")),$("#hypLoginOverlayJoinNow").attr("href",$("#lnkJoinUs").attr("href")),$("#hypforgotpass").attr("href",$("#hypforgotpass").attr("href").replace(t,"login/forgotpassword"))),$("[data-auth-registrationsource]").each(function(){var r=$(this).attr("data-auth-registrationsource");$(this).attr("data-auth-registrationsource",r.replace(n,registrationSource))})},$(function(){n.Init(),n.RefreshLogInStatus()})}(),window.onload=adjusttopad,typeof RD=="undefined"&&(RD={}),typeof RD.Widgets=="undefined"&&(RD.Widgets={}),function(n){var t=RD.Widgets.StaticAuth={},r,e,o,c,u,s,f,h,l,i,a,v;t.Init=function(){r=n("#LoginForm #txtUser"),o=n("#LoginForm #reqScreenName"),c=n("#LoginForm #screenNameExist"),u=n("#LoginForm #validScreenName"),s=n("#LoginForm #reqUser"),f=n("#LoginForm #txtPass"),h=n("#LoginForm #reqPassword"),l=n("#LoginForm #chkRemember"),i=n("#LoginForm #divallerror"),a=n("#LoginForm .rd_lo_subheading"),v=n("#EmailAddress").attr("placeholder"),n("#LoginForm #btnLogin").click(function(){var n="login page",i="login",r=window.location.href;return trackLinkComscore(n,i,r,!1,"None","None",null,"None"),t.DoLogin(),!1}),n("#LoginForm #btnLoginMobile").click(function(){var n="login page",i="login",r=window.location.href;return trackLinkComscore(n,i,r,!1,"None","None",null,"None"),t.DoLogin(),!1})},t.AddLiveRampTags=function(t){var i=n.ajax({url:"/liveramp/index",type:"GET",data:{emailId:t}}).done(function(){loginPersonalizationModel.liveRamp(i.responseText.toLowerCase())}).fail(function(){})},t.CleanLiveRampTags=function(){loginPersonalizationModel.liveRamp("")},t.ResetErrorMsgs=function(){s.hide(),h.hide(),i.hide(),o.hide(),c.hide(),u.hide(),n("#LoginForm #btnLogin").removeAttr("disabled"),n("#LoginForm #btnLoginMobile").removeAttr("disabled")},t.ResetFields=function(){r.val(""),f.val("")},t.Validate=function(){t.ResetErrorMsgs();var n=r.val(),i=f.val();return n&&n!=""?i&&i!=""?RD.ViewModel.LoginPersonalizationVM.initialLoginDone()&&e.val()==e.attr("placeholder")?(o.show(),e.focus(),!1):(s.hide(),h.hide(),o.hide(),c.hide(),u.hide(),!0):(h.show(),f.focus(),!1):(s.show(),r.focus(),!1)},t.DoLogin=function(){if(!t.Validate())return!1;var i=n.post("https://"+n(location).attr("hostname")+"/login/login",{username:r.val(),password:f.val(),rememberMe:l.is(":checked")}).done(function(){t.LoginSuccess(i.responseText)}).fail(function(){(i.getResponseHeader("FriendlyError")=="No Username"||i.getResponseHeader("FriendlyError")=="Your username cannot contain spaces or special characters"||i.getResponseHeader("FriendlyError")=="Username already exists")&&loginPersonalizationModel.initialLoginDone(!0),t.HandleFailure(1,i)});return!1},t.LoginSuccess=function(n){n=n.replace("RD.Widgets.Auth.LoginSuccess(","").replace(")","");var r=JSON.parse(n);if(r.IsSuccess)t.HandleRedirect();else{i.show();switch(r.statusCode){case 400:i.html(r.errorMsg);break;default:i.html("Could not process your request")}}},t.HandleFailure=function(n,t){i.show();switch(t.status){case 400:i.html(t.getResponseHeader("FriendlyError"));break;default:i.html(t.getResponseHeader("Could not process your request"))}},t.HandleRedirect=function(){var r=window.location.href.toLowerCase(),i="http://"+document.location.href.match(/:\/\/(.[^/]+)/)[1],t;if(r.indexOf("access/login")!=-1)try{t=getParameterByName("ReturnURL"),window.location=t&&n.trim(t)!=""?t:i}catch(u){}else window.location=i},n(function(){t.Init()})}($),RD=RD||{},RD.ViewModel={},RD.ViewModel.Mapping={},RD.ViewModel.Globals={},RD.ViewModel.LoginPersonalizationVM,RD.ViewModel.LoginPersonalization=function(n){ko.mapping.fromJS(n,{},this),this.liveRamp=ko.observable(),this.initialLoginDone=ko.observable(!1),this.modalClass=ko.computed(function(){return this.initialLoginDone()?"modal-dialog modal-dialog-screenname":"modal-dialog"},this),this.myAccountUrl=ko.computed(function(){return"http://community.familyhandyman.com/members/"+this.EncodedScreenName()+"/default.aspx"},this)},RD.ViewModel.Mapping.LoginPersonalization={create:function(n){return new RD.ViewModel.LoginPersonalization(n.data)}},RD.ViewModel.Email=function(n,t,i,r,u,f){var e=this;this.contentId=ko.observable(n),this.contentType=ko.observable(t),this.emailType=ko.observable(i),this.subject=ko.observable(r),this.message=ko.observable(u),this.contentTitle=ko.observable(),this.from=ko.observable(),this.fromError=ko.observable(!1),this.fromErrorMessage=ko.observable(),this.fromName=ko.observable(),this.fromNameError=ko.observable(!1),this.fromNameErrorMessage=ko.observable(),this.to=ko.observable(""),this.toError=ko.observable(!1),this.toErrorMessage=ko.observable(),this.messageError=ko.observable(!1),this.messageErrorMessage=ko.observable(),this.subjectError=ko.observable(!1),this.subjectErrorMessage=ko.observable(),this.subjectRequired=ko.observable(f),this.selfCopy=ko.observable(!1),this.isSendSuccess=ko.observable(!1),this.isSending=ko.observable(!1),this.emailResponseMessage=ko.observable(""),this.toEmails=ko.observableArray(),this.totalTo=ko.computed(function(){for(var r=e.to().trim(),t=r.split(","),i=0,n=0;n<t.length;n++)t[n].trim()!=""&&i++;return i},this),this.reset=function(){e.selfCopy(!1),e.to(""),e.fromError(!1),e.toError(!1),e.fromNameError(!1),e.messageError(!1),e.subjectError(!1),e.isSendSuccess(!1),e.isSending(!1),e.emailResponseMessage=ko.observable("")},this.validate=function(){var n=!0,r=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,u=/<\S*(\"[^\"]*\"|'[^']*'|[^'\">])\S*>/,t,i;if(this.fromError(!1),this.toError(!1),this.fromNameError(!1),this.messageError(!1),this.subjectError(!1),this.from()?r.test(this.from())||(this.fromError(!0),this.fromErrorMessage("Please enter valid email"),n=!1):(this.fromError(!0),this.fromErrorMessage("This field is required"),n=!1),this.to()){if(t=this.to().trim().split(","),e.toEmails(t),t.length>5)this.toError(!0),this.toErrorMessage("Maximum of 5 emails are allowed"),n=!1;else for(i=0;i<t.length;i++)if(!r.test(t[i].trim())){this.toError(!0),this.toErrorMessage("Please enter valid emails"),n=!1;break}}else this.toError(!0),this.toErrorMessage("This field is required"),n=!1;return this.fromName()||(this.fromNameError(!0),this.fromNameErrorMessage("This field is required"),n=!1),this.message()&&this.message().trim()!=""?u.test(this.message())&&(this.messageError(!0),this.messageErrorMessage("HTML is not allowed"),n=!1):(this.messageError(!0),this.messageErrorMessage("This field is required"),n=!1),this.subjectRequired()==undefined&&this.subjectRequired(!1),this.subjectRequired()&&(this.subject()&&this.subject().trim()!=""?u.test(this.subject())&&(this.subjectError(!0),this.subjectErrorMessage("HTML is not allowed"),n=!1):(this.subjectError(!0),this.subjectErrorMessage("This field is required"),n=!1)),n},this.showMessage=ko.computed(function(){return this.isSending&&this.isSendSuccess},this),this.send=function(n,t){if(!e.validate())return t.stopImmediatePropagation(),!1;$.ajax({url:"/Email/Send/",type:"post",data:{fromEmail:e.from,toEmail:e.to,firstName:e.fromName,message:e.message,sendToMe:e.selfCopy,ContentId:e.contentId,ContentType:e.contentType,emailType:e.emailType,subject:e.subject,__RequestVerificationToken:$(".email_form_container [name='__RequestVerificationToken']").val()},dataType:"json",success:function(n){e.contentTitle(n.ContentTitle),e.isSendSuccess(!0)},error:function(){e.emailResponseMessage("Email was not send successfully!!</br>Please try again"),e.isSendSuccess(!0)}}),e.isSending(!0)}},RD.ViewModel.Email.Singleton=new RD.ViewModel.Email,$(function(){RD.ViewModel.Email.Singleton.myCompute=ko.computed(function(){return!this.from()&&RD.ViewModel.LoginPersonalizationVM&&this.from(RD.ViewModel.LoginPersonalizationVM.Email()),!this.fromName()&&RD.ViewModel.LoginPersonalizationVM&&this.fromName(RD.ViewModel.LoginPersonalizationVM.ScreenName()),null},RD.ViewModel.Email.Singleton)}),LogInFunctionsToRun=[],CallBackFunctionsToRun=[],typeof RD=="undefined"&&(RD={}),typeof RD.Widgets=="undefined"&&(RD.Widgets={}),function(n){function i(n){var i=n,r,t,u;return i==""?!1:(r=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/,t=i.match(r),t==null)?!1:(dtMonth=t[1],dtDay=t[3],dtYear=t[5],dtMonth<1||dtMonth>12)?!1:dtDay<1||dtDay>31||(dtMonth==4||dtMonth==6||dtMonth==9||dtMonth==11)&&dtDay==31||dtMonth==2&&(u=dtYear%4==0&&(dtYear%100!=0||dtYear%400==0),dtDay>29||dtDay==29&&!u)?!1:!0}var t=RD.Widgets.WebEdit={},r,u,f,e;t.EditEl=null,t.Modal=null,t.Init=function(){t.Modal=n("#WebEditOverlayForm"),t.Modal.modal({show:!1});n(document).on("click","*[data-webedit-save_table]",function(){return t.Save(),!1});n(document).on("click","*[data-webedit-add_blank_row]",function(){t.AddBlankRow()});n(document).on("click","*[data-webedit]",function(i){return t.EditEl=this,t.Edit(i,n(this)),i.preventDefault(),!1})},t.Edit=function(n,i){t.ShowLoginOverlay(n,i)},t.ShowLoginOverlay=function(i,r){t.ResetErrorMsgs(),n.ajax({url:"/EditModule/Overlay?tdate="+r.attr("data-webedit-tdate"),data:{parentContentId:r.attr("data-webedit-parent_content_id"),parentContentType:r.attr("data-webedit-parent_content_type"),moduleId:r.attr("data-webedit-module_id"),position:r.attr("data-webedit-position")},success:function(n){t.Modal.html(n),t.Modal.modal("show")},error:function(){alert("ERROR")}})},t.AddBlankRow=function(){var t=n("#scheduledItemsBlankRow").html();n("#scheduledItemsTable").append(t)},t.Save=function(){var r,f,u,i,e;for(t.ResetErrorMsgs(),f=n('[ data-webedit-scheduled_item_id="true"]').length-1,r='{  "ParentContentId": "'+n("#txtParentContentId")[0].value+'", "ModuleId": "'+n("#txtModuleId")[0].value+'", "ParentContentType": "'+n("#txtParentContentType")[0].value+'", "Position": "'+n("#txtPosition")[0].value+'", "ScheduledItems" : [',u="",i=0;i<f;i++){if(u=t.ValidateRow(n('[ data-webedit-content_id="true"]')[i].value,n('[ data-webedit-start_date="true"]')[i].value,n('[ data-webedit-end_date="true"]')[i].value),u!="")return n("#txtValidationMsg").html(u),n("#txtValidationMsg").show(),!1;r=r+'{  "ScheduleItemGroupId": "'+n('[ data-webedit-scheduled_item_id="true"]')[i].value+'", "ContentId": "'+n('[ data-webedit-content_id="true"]')[i].value+'", "StartDate": "'+n('[ data-webedit-start_date="true"]')[i].value+'", "OriginalStartDate": "'+n('[ data-webedit-original_start_date="true"]')[i].value+'", "ContentType": "'+n('[ data-webedit-content_type="true"]')[i].value+'", "Window": "Normal","RomanceCopy":"'+n('[ data-webedit-romace_copy="true"]')[i].value.replace(/\"/g,"@#@")+'", "EndDate": "'+n('[ data-webedit-end_date="true"]')[i].value+'"}',i!=f-1&&(r=r+",")}return r=r+"] }",e=n.post("/EditModule/Save?tdate="+n("#txtTDate")[0].value,{json:r}).done(function(){t.HideOverlay()}).fail(function(){}),!1},t.HideOverlay=function(){t.Modal.modal("hide")},t.ValidateRow=function(t,r,u){return n.isNumeric(t)?i(r)?i(u)?"":"End Date: "+u+" needs to be in the format mm/dd/yyyy":"Start Date: "+r+" needs to be in the format mm/dd/yyyy":"Content Id: "+t+" must be a number"},t.ResetErrorMsgs=function(){n("#txtValidationMsg").hide()},n(function(){t.Init()})}($),bodyobj=document.getElementsByTagName("BODY")[0],responsivecss=document.getElementById("theme-responsive"),responsivecss.disabled=!1,bodyobj.style.width="100%",bodyobj.style.margin="0 auto",lastSlide=0,fixedAds=!1,$(function(){window.adjustbrandad(),$(".carousel-indicators > li:first-child").addClass("active"),$(".carousel-inner > div:first-child").addClass("active"),$(".carousel-indicators").each(function(){var i=$(this).parent();$(".carousel-indicators > li",i).length==1&&($(".carousel-control.left,.carousel-control.right",i).hide(),$(".carousel-indicators > li",i).hide(),$(".carousel-inner",i).css("margin-top","0px"))});$("#cancelrefinesearch").on("click",function(){$("#refinesearchcont").toggleClass("showhiderefine")});$("#refinebtn").on("click",function(){$("#refinesearchcont").toggleClass("showhiderefine")});window.location.href.indexOf("&fc=")!=-1&&$("#refinesearchcont").toggleClass("showhiderefine"),$(window).resize(function(){}),$("img").filter(function(){return $(this).attr("data-pinit")!=="true"}).attr("data-pin-no-hover",!0),typeof RD!="undefined"&&typeof RD.Widget!="undefined"&&typeof RD.Widget.Scroller!="undefined"&&(scroller=new RD.Widget.Scroller({parentEl:document.getElementById("divSimilarProjects"),animation:!0})),typeof RD!="undefined"&&typeof RD.Widget!="undefined"&&typeof RD.Widget.Scroller!="undefined"&&(scroller=new RD.Widget.Scroller({parentEl:document.getElementById("topvideoscroller"),animation:!0}));$("#homemarqueecont").on("slid.bs.carousel",function(){window.adjustmarqueearrow()});slidepagecounter=1,window.updateslidecounter(),window.locationHashChanged();$("#slideshowcont").on("slid.bs.carousel",function(){window.loadImageSequence($("div.active"));var n=$("#slideshowcont .carousel-inner"),t=$("div.active",n).index();return lastSlide=t,setTimeout(function(){window.updateslidecounter(),window.currentslide=t+1,window.location.hash="#"+(t+1)},0),slidepagecounter++,window.refreshad(),$("div.active .slideShowAd",n).length?($("div.active .slideShowAd",n).append(adcontent),$("#AdContent").show(),googletag.slideAdRefresh()):$("#AdContent").length&&$("#AdContent").detach(),console.log("Page Change start"),window._sp_.pageChange(),console.log("Page change end"),!1});$("#viewalltext").on("click",function(){window.showviewallthumbs()});$("#baktoslids").on("click",function(){window.showslideshows()});$("#viewallcont .imgthumb").on("click",function(){var r=$("#viewallcont"),t=$(".imgthumb ",r).index(this),n,i;return window.showslideshows(),n=parseInt((t+1)/4),n==0?n=t:(i=parseInt(t/3),n=t+i),$("#slideshowcont").carousel(n),!1});window.onscroll=function(){window.fixHeader()},window.loadImageSequence($("div.active"))}),loadImageSequence=function(n){var t=n.next(),i=n.prev();loadImages(n),loadImages(t),loadImages(i)},loadImages=function(n){var t=n;(function(n){if(!n.attr("data-rd-loaded")){var t=$("img[data-rd-src]",n);t.length&&(n.attr("data-rd-loaded","true"),t.each(function(){$(this).on("load",function(){}).attr("src",$(this).attr("data-rd-src"))}))}})(t)},window.addEventListener?window.addEventListener("load",adjustmobilead,!1):window.attachEvent&&window.attachEvent("onload",adjustmobilead),window.onresize=function(){adjustmobilead(),adjustslideshowcontent()},window.onload=function(){window.adjustmarqueearrow(),adjustslideshowcontent()},$(document).ready(function(){var i=$("[href^='#']:not(.carousel-control)"),t,n;i.on("click",function(){var t=$(this).attr("href"),i=$(t)[0],r=i.offsetTop;$("html,body").animate({scrollTop:r},1e3,"linear")});$(window).width()>1200&&(wrapperobj=$("#fix_wrapper"),wrapperWidth=wrapperobj.width(),wrapperHeight=wrapperobj.height(),wrapperTop=wrapperobj[0]?wrapperobj[0].offsetTop:0,wrapperobj2=$(".rightcolumn .rd_zone1").children().eq($(".rightcolumn .rd_zone1").children().length-2),wrapperWidth2=wrapperobj2.width(),wrapperobj2.offset()&&(wrapperTop2=wrapperobj2.offset().top,t=$(window).height()+wrapperTop+wrapperobj.height(),n=$("body")[0].clientHeight,stickyHeight=wrapperobj2.height()+wrapperobj2.next().height(),stickyHeight=n-200,stickyHeight2=$(".footer").offset().top-wrapperobj2.next().height()-200),isFixedMenu=t>n?!1:!0),$("#AdContent")!=null&&(adcontent=$("#AdContent").clone(!0),$("#AdContent").detach())}),window.onhashchange=locationHashChanged,function(){this.RD=this.RD||{},RD.Util||(RD.Util={},RD.Util.CSS={},RD.Util.CSS.Animator="rd_widget_animator",RD.Util.CreateElement=function(n,t,i){n=n||"div";var r=document.createElement(n);return t&&t.appendChild(r),i&&$(r).addClass(i),r},RD.Util.Supports=function(){var n=document.createElement("div"),t="Khtml Ms O Moz Webkit".split(" "),i=t.length;return function(r){if(r in n.style)return!0;for(r=r.replace(/^[a-z]/,function(n){return n.toUpperCase()});i--;)if(t[i]+r in n.style)return!0;return!1}}(),RD.Util.SupportsCSS3Transition=RD.Util.Supports("transition"),RD.Util.AddCSSAnimator=function(n){return n?($(n).addClass(RD.Util.CSS.Animator),!0):!1},RD.Util.RemoveCSSAnimator=function(n){return n?($(n).removeClass(RD.Util.CSS.Animator),!0):!1})}(),function(){this.RD=this.RD||{},RD.Widget||(RD.Widget=function(){},RD.Widget.CSS={},RD.Widget.CSS.Show="rd_widget_show",RD.Widget.EmptyFunction=function(){},RD.Widget.prototype.init=function(n,t){for(var i in t.Defaults)this[i]=n!==undefined&&n[i]!==undefined?n[i]:t.Defaults[i];this.parent||this.parentEl===undefined||(this.parent=this.parentEl),this.parent&&(this.cssClass&&$(this.parent).addClass(this.cssClass),this.initialise())},RD.Widget.prototype.initialise=function(){},RD.Widget.prototype.buildHTML=function(){},RD.Widget.prototype.show=function(){$(this.parent).addClass(RD.Widget.CSS.Show)},RD.Widget.prototype.hide=function(){$(this.parent).removeClass(RD.Widget.CSS.Show)})}(),function(){if(RD.Widget.Scroller==undefined){RD.Widget.Scroller=function(n){this.init(n,RD.Widget.Scroller)},RD.Widget.Scroller.Defaults={parentId:null,parentEl:null,onPrevClick:RD.Widget.EmptyFunction,onNextClick:RD.Widget.EmptyFunction,onItemClick:RD.Widget.EmptyFunction,onItemMove:RD.Widget.EmptyFunction,cssClass:"my_scroller",pageSlide:!0,startUpSlide:0,animation:!0,swipe:!1,responsive:!0},RD.Widget.Scroller.CSS={},RD.Widget.Scroller.CSS.Parent="rd_widget_scroller_parent",RD.Widget.Scroller.CSS.SlideContainer="rd_widget_scroller_container",RD.Widget.Scroller.CSS.Nav="rd_widget_scroller_nav",RD.Widget.Scroller.CSS.PrevNav="rd_widget_scroller_nav_prev",RD.Widget.Scroller.CSS.NextNav="rd_widget_scroller_nav_next",RD.Widget.Scroller.CSS.DisableNav="rd_widget_scroller_nav_disabled",RD.Widget.Scroller.CSS.Select="rd_widget_scroller_item_selected",RD.Widget.Scroller.CSS.Responsive="rd_widget_scroller_responsive",RD.Widget.Scroller.prototype=new RD.Widget;var n=RD.Widget.Scroller.prototype;n.initialise=function(){var n=this,r,f;for($(this.parent).addClass(RD.Widget.Scroller.CSS.Parent),this.scollerEl=this.parent.getElementsByTagName("ul")[0],this.lis=$("> ul > li",this.parent),this.active=window.getComputedStyle(n.parent,":before").content.replace(/\"/g,"")!="no-scroll",this.buildHTML(),$(this.slideContainer).width("85%"),this.setDimensions(),this.responsive&&($(this.parent).addClass(RD.Widget.Scroller.CSS.Responsive),$(window).resize(function(){$(n.slideContainer).width("85%"),n.setDimensions(),n.slideToItem(n.startUpSlide),n.active=window.getComputedStyle(n.parent,":before").content.replace(/\"/g,"")!="no-scroll"})),this.PrevNav.onclick=function(){if(n.slideLeft(),n.onPrevClick)n.onPrevClick(n.currentSelected)},this.NextNav.onclick=function(){if(n.slideRight(),n.onNextClick)n.onNextClick(n.currentSelected)},this.itemClicked=!1,r=0;r<this.lis.length;r++)(function(t){n.lis[t].onclick=function(){n.slideToItem(t),n.itemClicked=!0}})(r);if(this.swipe){var u=0,t=this.parent,s=$(".rd_widget_scroller_nav_prev",t),h=$(".rd_widget_scroller_nav_next",t),i=!1;function e(t){return!t.hasClass("rd_widget_scroller_nav_disabled")&&!i&&n.active}function o(t){if(t>f&&e(s)){if(i=!0,n.slideLeft(),n.onPrevClick)n.onPrevClick(n.currentSelected)}else if(t<-f&&e(h)&&(i=!0,n.slideRight(),n.onNextClick))n.onNextClick(n.currentSelected)}f=$(t).width()/20,typeof t.style.touchAction!="undefined"&&(t.style.touchAction="pan-y"),t.addEventListener("touchstart",function(n){var t=n.changedTouches[0];u=parseInt(t.clientX,10),i=!1},!1),t.addEventListener("touchmove",function(n){var t=n.changedTouches[0],i=parseInt(t.clientX,10)-u;o(i,n)},!1),window.navigator.msPointerEnabled&&(typeof t.style.msTouchAction!="undefined"&&(t.style.msTouchAction="pan-y"),t.addEventListener("MSPointerDown",function(n){u=parseInt(n.clientX,10),i=!1}),t.addEventListener("MSPointerUp",function(n){var t=parseInt(n.clientX,10)-u;o(t,n)},!1))}this.animation&&this.setAnimation(!0),this.first=0,this.slideToItem(this.startUpSlide)},n.buildHTML=function(){this.slideContainer=RD.Util.CreateElement("div",this.parent,RD.Widget.Scroller.CSS.SlideContainer),this.PrevNav=RD.Util.CreateElement("div",this.parent,RD.Widget.Scroller.CSS.Nav+" "+RD.Widget.Scroller.CSS.PrevNav+" "+RD.Widget.Scroller.CSS.DisableNav),this.NextNav=RD.Util.CreateElement("div",this.parent,RD.Widget.Scroller.CSS.Nav+" "+RD.Widget.Scroller.CSS.NextNav),this.slideContainer.appendChild(this.parent.getElementsByTagName("ul")[0]),$(this.parent).attr("data-analytics-link_module")&&$(this.parent).attr("data-analytics-link_module")!=undefined?(this.PrevNav.innerHTML='<span class="sliderPrvBtn"><a data-analytics-link_name="previous arrow" data-analytics-rwd_template="'+$(this.parent).attr("data-analytics-rwd_template")+'" data-analytics-page_template="'+$(this.parent).attr("data-analytics-page_template")+'" data-analytics-link_module="'+$(this.parent).attr("data-analytics-link_module")+'" data-analytics-link_location="'+$(this.parent).attr("data-analytics-link_location")+'">&#8249;</a></span>',this.NextNav.innerHTML='<span class="sliderNextBtn"><a data-analytics-link_name="next arrow" data-analytics-rwd_template="'+$(this.parent).attr("data-analytics-rwd_template")+'" data-analytics-page_template="'+$(this.parent).attr("data-analytics-page_template")+'" data-analytics-link_module="'+$(this.parent).attr("data-analytics-link_module")+'" data-analytics-link_location="'+$(this.parent).attr("data-analytics-link_location")+'">&#8250;</a></span>'):(this.PrevNav.innerHTML="<span class='sliderPrvBtn'><a>&#8249;</a></span>",this.NextNav.innerHTML="<span class='sliderNextBtn'><a>&#8250;</a></span>")},n.setDimensions=function(){this.itemWidth=$(this.lis[0]).outerWidth(!0),$(this.scollerEl).width(this.itemWidth*this.lis.length),this.totalSliderWidth=$(this.scollerEl).width(),this.visibleWidth=$(this.slideContainer).width(),this.visibleItems=Math.floor(this.visibleWidth/this.itemWidth),this.responsive&&$(this.slideContainer).width(this.visibleItems*this.itemWidth),this.amountToSlide=this.pageSlide?this.visibleWidth:this.itemWidth,this.itemsToSlide=this.pageSlide?this.visibleItems:1},n.slide=function(n){RD.Util.SupportsCSS3Transition?$(this.scollerEl).css({left:-n}):$(this.scollerEl).animate({left:-n}),this.first+this.itemsToSlide>this.lis.length-1?$(this.NextNav).addClass(RD.Widget.Scroller.CSS.DisableNav):$(this.NextNav).removeClass(RD.Widget.Scroller.CSS.DisableNav),this.first<=0?$(this.PrevNav).addClass(RD.Widget.Scroller.CSS.DisableNav):$(this.PrevNav).removeClass(RD.Widget.Scroller.CSS.DisableNav)},n.slideRight=function(){var n=this.first+this.itemsToSlide,t;(isNaN(n)&&(n=0),n>this.lis.length-1)||(this.lis.length-n<this.itemsToSlide&&(n=this.lis.length-this.itemsToSlide),t=n*this.itemWidth,this.first=n,this.slide(t))},n.slideLeft=function(){var n=this.first-this.itemsToSlide,t;n!=0&&n<0&&n>=-this.itemsToSlide&&(n=0),t=n*this.itemWidth,this.first=n,this.slide(t)},n.slideToItem=function(n){var r;if(!(n<0)&&!(n>=this.lis.length)){var i=this.lis.length,t=Math.floor(n/this.itemsToSlide)*this.itemsToSlide,f=t+this.itemsToSlide,u=i%this.itemsToSlide;n>=i-u&&n<i&&(t=i-this.itemsToSlide),t<0&&(t=0),t==this.first||n>=this.first&&n<this.first+this.itemsToSlide||(r=t*this.itemWidth,this.first=t,this.slide(r)),this.select(n)}},n.select=function(n){if(!(n<0)&&!(n>=this.lis.length)&&(this.deselect(this.currentSelected),$(this.lis[n]).addClass(RD.Widget.Scroller.CSS.Select),this.currentSelected=n,this.onItemClick))this.onItemClick(n,this.lis[n])},n.selectNext=function(){var n=this.currentSelected+1;if(n>=this.lis.length)return!1;this.slideToItem(n)},n.selectPrevious=function(){var n=this.currentSelected-1;if(n<0)return!1;this.slideToItem(n)},n.deselect=function(n){n<0||n>=this.lis.length||$(this.lis[n]).removeClass(RD.Widget.Scroller.CSS.Select)},n.reset=function(){RD.Util.SupportsCSS3Transition?$(this.scollerEl).css({left:0}):$(this.scollerEl).animate({left:0}),this.first=0,this.select(0)},n.getTotalItems=function(){return this.lis.length},n.setAnimation=function(n){n?RD.Util.AddCSSAnimator(this.scollerEl):RD.Util.RemoveCSSAnimator(this.scollerEl)}}}(),$(document).ready(function(){$("body").on("click","[data-analytics-link_name]:not('select')",function(){$(this).data("analytics-link-manual")||tlComscore(this)});$("select[data-analytics-link_name]").on("change",function(){($(this).attr("data-analytics-link_name")==undefined||$(this).attr("data-analytics-link_name")=="")&&$(this).attr("data-analytics-link_name",$(this).find("option:selected").text()),$(this).attr("data-analytics-search_num_displayed",$(this).find("option:selected").text()),tlComscore(this)});document.addEventListener("sp.blocking",function(){ComscoreTrackLinkSend("&AdBlock=true",!1)})}),$(document).ready(function(){$("#txtSearchPhrase").keydown(function(n){if(n.which==13)return tlComscore($("#"+$(this).attr("data-search-button-id"))),OnSearch()}),$("#selSearchReturnCount").change(function(){RedirectSearchTo(this)})});$(document).on("zoomdSearch:opened",function(){tlComscore($("#imgBtnSubmit"))});$(document).ready(function(){var n=$("a.previous").html();$("a.previous").before("<div style='float:left; color:gray;' class='dummy_navp'>"+n+"</div>"),$("a.previous").hide()}),function(n){function u(i){n.fn.cycle.debug&&t(i)}function t(){window.console&&window.console.log&&window.console.log("[cycle] "+Array.prototype.join.call(arguments," "))}function c(r,u,f){var o,e;if(r.cycleStop==undefined&&(r.cycleStop=0),(u===undefined||u===null)&&(u={}),u.constructor==String){switch(u){case"stop":return r.cycleStop++,r.cycleTimeout&&clearTimeout(r.cycleTimeout),r.cycleTimeout=0,n(r).removeData("cycle.opts"),!1;case"pause":return r.cyclePause=1,!1;case"resume":if(r.cyclePause=0,f===!0){if(u=n(r).data("cycle.opts"),!u)return t("options not found, can not resume"),!1;r.cycleTimeout&&(clearTimeout(r.cycleTimeout),r.cycleTimeout=0),i(u.elements,u,1,1)}return!1;case"prev":case"next":return(o=n(r).data("cycle.opts"),!o)?(t('options not found, "prev/next" ignored'),!1):(n.fn.cycle[u](o),!1);default:u={fx:u}}return u}return u.constructor==Number?(e=u,u=n(r).data("cycle.opts"),!u)?(t("options not found, can not advance slide"),!1):e<0||e>=u.elements.length?(t("invalid slide index: "+e),!1):(u.nextSlide=e,r.cycleTimeout&&(clearTimeout(r.cycleTimeout),r.cycleTimeout=0),typeof f=="string"&&(u.oneTimeFx=f),i(u.elements,u,1,e>=u.currSlide),!1):u}function f(t,i){if(!n.support.opacity&&i.cleartype&&t.style.filter)try{t.style.removeAttribute("filter")}catch(r){}}function l(u,e,o,h,c){var l=n.extend({},n.fn.cycle.defaults,h||{},n.metadata?u.metadata():n.meta?u.data():{}),et,it,p,st,k,d,g,ft,rt,b;if(l.autostop&&(l.countdown=l.autostopCount||o.length),et=u[0],u.data("cycle.opts",l),l.$cont=u,l.stopCount=et.cycleStop,l.elements=o,l.before=l.before?[l.before]:[],l.after=l.after?[l.after]:[],l.after.unshift(function(){l.busy=0}),!n.support.opacity&&l.cleartype&&l.after.push(function(){f(this,l)}),l.continuous&&l.after.push(function(){i(o,l,0,!l.rev)}),a(l),n.support.opacity||!l.cleartype||l.cleartypeNoBg||s(e),u.css("position")=="static"&&u.css("position","relative"),l.width&&u.width(l.width),l.height&&l.height!="auto"&&u.height(l.height),l.startingSlide&&(l.startingSlide=parseInt(l.startingSlide)),l.random){for(l.randomMap=[],it=0;it<o.length;it++)l.randomMap.push(it);l.randomMap.sort(function(){return Math.random()-.5}),l.randomIndex=0,l.startingSlide=l.randomMap[0]}else l.startingSlide>=o.length&&(l.startingSlide=0);if(l.currSlide=l.startingSlide=l.startingSlide||0,p=l.startingSlide,e.css({position:"relative"}).hide().each(function(t){var i=p?t>=p?o.length-(t-p):p-t:o.length-t;n(this).css("z-index",i)}),n(o[p]).css("opacity",1).show(),f(o[p],l),l.fit&&l.width&&e.width(l.width),l.fit&&l.height&&l.height!="auto"&&e.height(l.height),st=l.containerResize&&!u.innerHeight(),st){for(k=0,d=0,g=0;g<o.length;g++){var ut=n(o[g]),ot=ut[0],nt=ut.outerWidth(),tt=ut.outerHeight();nt||(nt=ot.offsetWidth),tt||(tt=ot.offsetHeight),k=nt>k?nt:k,d=tt>d?tt:d}k>0&&d>0&&u.css({width:k+"px",height:d+"px"})}if((l.pause&&u.hover(function(){this.cyclePause++},function(){this.cyclePause--}),v(l)===!1)||(ft=!1,h.requeueAttempts=h.requeueAttempts||0,e.each(function(){var i=n(this);if(this.cycleH=l.fit&&l.height?l.height:i.height(),this.cycleW=l.fit&&l.width?l.width:i.width(),i.is("img")){var r=n.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete,u=n.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete,f=n.browser.opera&&(this.cycleW==42&&this.cycleH==19||this.cycleW==37&&this.cycleH==17)&&!this.complete,e=this.cycleH==0&&this.cycleW==0&&!this.complete;if(r||u||f||e){if(c.s&&l.requeueOnImageNotLoaded&&++h.requeueAttempts<100)return t(h.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH),setTimeout(function(){n(c.s,c.c).cycle(h)},l.requeueTimeout),ft=!0,!1;t("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}return!0}),ft))return!1;if(l.cssBefore=l.cssBefore||{},l.animIn=l.animIn||{},l.animOut=l.animOut||{},e.not(":eq("+p+")").css(l.cssBefore),l.cssFirst&&n(e[p]).css(l.cssFirst),l.timeout)for(l.timeout=parseInt(l.timeout),l.speed.constructor==String&&(l.speed=n.fx.speeds[l.speed]||parseInt(l.speed)),l.sync||(l.speed=l.speed/2);l.timeout-l.speed<250;)l.timeout+=l.speed;if(l.easing&&(l.easeIn=l.easeOut=l.easing),l.speedIn||(l.speedIn=l.speed),l.speedOut||(l.speedOut=l.speed),l.slideCount=o.length,l.currSlide=l.lastSlide=p,l.random?(l.nextSlide=l.currSlide,++l.randomIndex==o.length&&(l.randomIndex=0),l.nextSlide=l.randomMap[l.randomIndex]):l.nextSlide=l.startingSlide>=o.length-1?0:l.startingSlide+1,!l.multiFx)if(rt=n.fn.cycle.transitions[l.fx],n.isFunction(rt))rt(u,e,l);else if(l.fx!="custom"&&!l.multiFx)return t("unknown transition: "+l.fx,"; slideshow terminating"),!1;return b=e[p],l.before.length&&l.before[0].apply(b,[b,b,l,!0]),l.after.length>1&&l.after[1].apply(b,[b,b,l,!0]),l.next&&n(l.next).bind(l.prevNextEvent,function(){return r(l,l.rev?-1:1)}),l.prev&&n(l.prev).bind(l.prevNextEvent,function(){return r(l,l.rev?1:-1)}),l.pager&&w(o,l),y(l,o),l}function a(t){t.original={before:[],after:[]},t.original.cssBefore=n.extend({},t.cssBefore),t.original.cssAfter=n.extend({},t.cssAfter),t.original.animIn=n.extend({},t.animIn),t.original.animOut=n.extend({},t.animOut),n.each(t.before,function(){t.original.before.push(this)}),n.each(t.after,function(){t.original.after.push(this)})}function v(i){var r,f,e=n.fn.cycle.transitions,o,s,h;if(i.fx.indexOf(",")>0){for(i.multiFx=!0,i.fxs=i.fx.replace(/\s*/g,"").split(","),r=0;r<i.fxs.length;r++)o=i.fxs[r],f=e[o],f&&e.hasOwnProperty(o)&&n.isFunction(f)||(t("discarding unknown transition: ",o),i.fxs.splice(r,1),r--);if(!i.fxs.length)return t("No valid transitions named; slideshow terminating."),!1}else if(i.fx=="all"){i.multiFx=!0,i.fxs=[];for(p in e)f=e[p],e.hasOwnProperty(p)&&n.isFunction(f)&&i.fxs.push(p)}if(i.multiFx&&i.randomizeEffects){for(s=Math.floor(Math.random()*20)+30,r=0;r<s;r++)h=Math.floor(Math.random()*i.fxs.length),i.fxs.push(i.fxs.splice(h,1)[0]);u("randomized fx sequence: ",i.fxs)}return!0}function y(t,i){t.addSlide=function(r,u){var f=n(r),e=f[0];if(t.autostopCount||t.countdown++,i[u?"unshift":"push"](e),t.els&&t.els[u?"unshift":"push"](e),t.slideCount=i.length,f.css("position","absolute"),f[u?"prependTo":"appendTo"](t.$cont),u&&(t.currSlide++,t.nextSlide++),n.support.opacity||!t.cleartype||t.cleartypeNoBg||s(f),t.fit&&t.width&&f.width(t.width),t.fit&&t.height&&t.height!="auto"&&$slides.height(t.height),e.cycleH=t.fit&&t.height?t.height:f.height(),e.cycleW=t.fit&&t.width?t.width:f.width(),f.css(t.cssBefore),t.pager&&n.fn.cycle.createPagerAnchor(i.length-1,e,n(t.pager),i,t),n.isFunction(t.onAddSlide))t.onAddSlide(f);else f.hide()}}function i(t,r,u,f){var a,y,p,v,s,w,b;if(u&&r.busy&&r.manualTrump&&(n(t).stop(!0,!0),r.busy=!1),!r.busy){var l=r.$cont[0],c=t[r.currSlide],h=t[r.nextSlide];if(l.cycleStop==r.stopCount&&(l.cycleTimeout!==0||u)){if(!u&&!l.cyclePause&&(r.autostop&&--r.countdown<=0||r.nowrap&&!r.random&&r.nextSlide<r.currSlide)){r.end&&r.end(r);return}(u||!l.cyclePause)&&(a=r.fx,c.cycleH=c.cycleH||n(c).height(),c.cycleW=c.cycleW||n(c).width(),h.cycleH=h.cycleH||n(h).height(),h.cycleW=h.cycleW||n(h).width(),r.multiFx&&((r.lastFx==undefined||++r.lastFx>=r.fxs.length)&&(r.lastFx=0),a=r.fxs[r.lastFx],r.currFx=a),r.oneTimeFx&&(a=r.oneTimeFx,r.oneTimeFx=null),n.fn.cycle.resetState(r,a),r.before.length&&n.each(r.before,function(n,t){l.cycleStop==r.stopCount&&t.apply(h,[c,h,r,f])}),y=function(){n.each(r.after,function(n,t){l.cycleStop==r.stopCount&&t.apply(h,[c,h,r,f])})},r.nextSlide!=r.currSlide&&(r.busy=1,r.fxFn?r.fxFn(c,h,r,y,f):n.isFunction(n.fn.cycle[r.fx])?n.fn.cycle[r.fx](c,h,r,y):n.fn.cycle.custom(c,h,r,y,u&&r.fastOnEvent)),r.lastSlide=r.currSlide,r.random?(r.currSlide=r.nextSlide,++r.randomIndex==t.length&&(r.randomIndex=0),r.nextSlide=r.randomMap[r.randomIndex]):(p=r.nextSlide+1==t.length,r.nextSlide=p?0:r.nextSlide+1,r.currSlide=p?t.length-1:r.nextSlide-1),r.pager&&n.fn.cycle.updateActivePagerLink(r.pager,r.currSlide)),v=0,r.timeout&&!r.continuous?v=o(c,h,r,f):r.continuous&&l.cyclePause&&(v=10),v>0&&(l.cycleTimeout=setTimeout(function(){i(t,r,0,!r.rev)},v)),s=$(t).parent().parent().attr("id"),f||r.currSlide!=0?($("#"+s+" .stepPagination .previous").css("color","#4579A1"),$(".dummy_navp")&&(e=$("#"+s+" .stepPagination .dummy_navp").detach()),$("#"+s+" .stepPagination .previous").show()):($("#"+s+" .stepPagination .previous").css("color","gray"),w=$("#"+s+" .stepPagination .previous").html(),$("#"+s+" .stepPagination .dummy_navp").attr("class")||$("#"+s+" .stepPagination .previous").before("<div style='float:left; color:gray;' class='dummy_navp'>"+w+"</div>"),$("#"+s+" .stepPagination .previous").hide()),f&&r.currSlide==t.length-1?($("#"+s+" .stepPagination .next").css("color","gray"),b=$("#"+s+" .stepPagination .next").html(),$("#"+s+" .stepPagination .next").before("<div style='float:right; color:gray;' class='dummy_navr'>"+b+"</div>"),$("#"+s+" .stepPagination .next").hide()):($("#"+s+" .stepPagination .next").css("color","#4579A1"),$(".dummy_navr")&&(e=$(".dummy_navr").detach()),$("#"+s+" .stepPagination .next").show()),f&&trackLink("Slideshow - Project",r.currSlide+1,"project",!1),f||trackLink("Slideshow - Project",r.currSlide+1,"project",!1)}}}function o(n,t,i,r){if(i.timeoutFn){for(var f=i.timeoutFn(n,t,i,r);f-i.speed<250;)f+=i.speed;if(u("calculated timeout: "+f+"; speed: "+i.speed),f!==!1)return f}return i.timeout}function r(t,r){var u=t.elements,f=t.$cont[0],e=f.cycleTimeout;if(e&&(clearTimeout(e),f.cycleTimeout=0),t.random&&r<0)t.randomIndex--,--t.randomIndex==-2?t.randomIndex=u.length-2:t.randomIndex==-1&&(t.randomIndex=u.length-1),t.nextSlide=t.randomMap[t.randomIndex];else if(t.random)++t.randomIndex==u.length&&(t.randomIndex=0),t.nextSlide=t.randomMap[t.randomIndex];else if(t.nextSlide=t.currSlide+r,t.nextSlide<0){if(t.nowrap)return!1;t.nextSlide=u.length-1}else if(t.nextSlide>=u.length){if(t.nowrap)return!1;t.nextSlide=0}return n.isFunction(t.prevNextClick)&&t.prevNextClick(r>0,t.nextSlide,u[t.nextSlide]),i(u,t,1,r>=0),!1}function w(t,i){var r=n(i.pager);n.each(t,function(u,f){n.fn.cycle.createPagerAnchor(u,f,r,t,i)}),n.fn.cycle.updateActivePagerLink(i.pager,i.startingSlide)}function s(t){function i(n){return n=parseInt(n).toString(16),n.length<2?"0"+n:n}function r(t){for(var r,u;t&&t.nodeName.toLowerCase()!="html";t=t.parentNode){if(r=n.css(t,"background-color"),r.indexOf("rgb")>=0)return u=r.match(/\d+/g),"#"+i(u[0])+i(u[1])+i(u[2]);if(r&&r!="transparent")return r}return"#ffffff"}t.each(function(){n(this).css("background-color",r(this))})}var h="2.73",e;n.support==undefined&&(n.support={opacity:!n.browser.msie}),n.fn.cycle=function(r,f){var e={s:this.selector,c:this.context};return this.length===0&&r!="stop"?!n.isReady&&e.s?(t("DOM not ready, queuing slideshow"),n(function(){n(e.s,e.c).cycle(r,f)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this):this.each(function(){var a=c(this,r,f),s,h;if(a!==!1){this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=this.cyclePause=0;var y=n(this),p=a.slideExpr?n(a.slideExpr,this):y.children(),v=p.get();if(v.length<2){t("terminating; too few slides: "+v.length);return}(s=l(y,p,v,a,e),s!==!1)&&(h=s.continuous?10:o(s.currSlide,s.nextSlide,s,!s.rev),h&&(h+=s.delay||0,h<10&&(h=10),u("first timeout: "+h),this.cycleTimeout=setTimeout(function(){i(v,s,0,!s.rev)},h)))}})},n.fn.cycle.resetState=function(t,i){i=i||t.fx,t.before=[],t.after=[],t.cssBefore=n.extend({},t.original.cssBefore),t.cssAfter=n.extend({},t.original.cssAfter),t.animIn=n.extend({},t.original.animIn),t.animOut=n.extend({},t.original.animOut),t.fxFn=null,n.each(t.original.before,function(){t.before.push(this)}),n.each(t.original.after,function(){t.after.push(this)});var r=n.fn.cycle.transitions[i];n.isFunction(r)&&r(t.$cont,n(t.elements),t)},n.fn.cycle.updateActivePagerLink=function(t,i){n(t).each(function(){n(this).find("a").removeClass("activeSlide").filter("a:eq("+i+")").addClass("activeSlide")})},n.fn.cycle.next=function(n){r(n,n.rev?-1:1)},n.fn.cycle.prev=function(n){r(n,n.rev?1:-1)},n.fn.cycle.createPagerAnchor=function(t,r,u,f,e){var s,o,h;(s=n.isFunction(e.pagerAnchorBuilder)?e.pagerAnchorBuilder(t,r):'<a href="#"><!-- --></a>',s)&&(o=n(s),o.parents("body").length===0&&(h=[],u.length>1?(u.each(function(){var t=o.clone(!0);n(this).append(t),h.push(t[0])}),o=n(h)):o.appendTo(u)),o.bind(e.pagerEvent,function(r){r.preventDefault(),e.nextSlide=t;var u=e.$cont[0],o=u.cycleTimeout;return o&&(clearTimeout(o),u.cycleTimeout=0),n.isFunction(e.pagerClick)&&e.pagerClick(e.nextSlide,f[e.nextSlide]),i(f,e,1,e.currSlide<t),!1}),e.pagerEvent!="click"&&o.click(function(){return!1}),e.pauseOnPagerHover&&o.hover(function(){e.$cont[0].cyclePause++},function(){e.$cont[0].cyclePause--}))},n.fn.cycle.hopsFromLast=function(n,t){var u,i=n.lastSlide,r=n.currSlide;return u=t?r>i?r-i:n.slideCount-i:r<i?i-r:i+n.slideCount-r},n.fn.cycle.commonReset=function(t,i,r,u,f,e){n(r.elements).not(t).hide(),r.cssBefore.opacity=1,r.cssBefore.display="block",u!==!1&&i.cycleW>0&&(r.cssBefore.width=i.cycleW),f!==!1&&i.cycleH>0&&(r.cssBefore.height=i.cycleH),r.cssAfter=r.cssAfter||{},r.cssAfter.display="none",n(t).css("zIndex",r.slideCount+(e===!0?1:0)),n(i).css("zIndex",r.slideCount+(e===!0?0:1))},n.fn.cycle.custom=function(t,i,r,u,f){var h=n(t),c=n(i),e=r.speedIn,o=r.speedOut,l=r.easeIn,a=r.easeOut,s;c.css(r.cssBefore),f&&(e=typeof f=="number"?o=f:o=1,l=a=null),s=function(){c.animate(r.animIn,e,l,u)},h.animate(r.animOut,o,a,function(){r.cssAfter&&h.css(r.cssAfter),r.sync||s()}),r.sync&&s()},n.fn.cycle.transitions={fade:function(t,i,r){i.not(":eq("+r.currSlide+")").css("opacity",0),r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r),r.cssBefore.opacity=0}),r.animIn={opacity:1},r.animOut={opacity:0},r.cssBefore={top:0,left:0}}},n.fn.cycle.ver=function(){return h},n.fn.cycle.defaults={fx:"fade",timeout:4e3,timeoutFn:null,continuous:0,speed:1e3,speedIn:null,speedOut:null,next:null,prev:null,prevNextClick:null,prevNextEvent:"click",pager:null,pagerClick:null,pagerEvent:"click",pagerAnchorBuilder:null,before:null,after:null,end:null,easing:null,easeIn:null,easeOut:null,shuffle:null,animIn:null,animOut:null,cssBefore:null,cssAfter:null,fxFn:null,height:"auto",startingSlide:0,sync:1,random:0,fit:0,containerResize:1,pause:0,pauseOnPagerHover:0,autostop:0,autostopCount:0,delay:0,slideExpr:null,cleartype:!n.support.opacity,cleartypeNoBg:!1,nowrap:0,fastOnEvent:0,randomizeEffects:1,rev:0,manualTrump:!0,requeueOnImageNotLoaded:!0,requeueTimeout:250}}(jQuery),function(n){n.fn.cycle.transitions.none=function(t,i,r){r.fxFn=function(t,i,r,u){n(i).show(),n(t).hide(),u()}},n.fn.cycle.transitions.scrollUp=function(t,i,r){t.css("overflow","hidden"),r.before.push(n.fn.cycle.commonReset);var u=t.height();r.cssBefore={top:u,left:0},r.cssFirst={top:0},r.animIn={top:0},r.animOut={top:-u}},n.fn.cycle.transitions.scrollDown=function(t,i,r){t.css("overflow","hidden"),r.before.push(n.fn.cycle.commonReset);var u=t.height();r.cssFirst={top:0},r.cssBefore={top:-u,left:0},r.animIn={top:0},r.animOut={top:u}},n.fn.cycle.transitions.scrollLeft=function(t,i,r){t.css("overflow","hidden"),r.before.push(n.fn.cycle.commonReset);var u=t.width();r.cssFirst={left:0},r.cssBefore={left:u,top:0},r.animIn={left:0},r.animOut={left:0-u}},n.fn.cycle.transitions.scrollRight=function(t,i,r){t.css("overflow","hidden"),r.before.push(n.fn.cycle.commonReset);var u=t.width();r.cssFirst={left:0},r.cssBefore={left:-u,top:0},r.animIn={left:0},r.animOut={left:u}},n.fn.cycle.transitions.scrollHorz=function(t,i,r){t.css("overflow","hidden").width(),r.before.push(function(t,i,r,u){n.fn.cycle.commonReset(t,i,r),r.cssBefore.left=u?i.cycleW-1:1-i.cycleW,r.animOut.left=u?-t.cycleW:t.cycleW}),r.cssFirst={left:0},r.cssBefore={top:0},r.animIn={left:0},r.animOut={top:0}},n.fn.cycle.transitions.scrollVert=function(t,i,r){t.css("overflow","hidden"),r.before.push(function(t,i,r,u){n.fn.cycle.commonReset(t,i,r),r.cssBefore.top=u?1-i.cycleH:i.cycleH-1,r.animOut.top=u?t.cycleH:-t.cycleH}),r.cssFirst={top:0},r.cssBefore={left:0},r.animIn={top:0},r.animOut={left:0}},n.fn.cycle.transitions.slideX=function(t,i,r){r.before.push(function(t,i,r){n(r.elements).not(t).hide(),n.fn.cycle.commonReset(t,i,r,!1,!0),r.animIn.width=i.cycleW}),r.cssBefore={left:0,top:0,width:0},r.animIn={width:"show"},r.animOut={width:0}},n.fn.cycle.transitions.slideY=function(t,i,r){r.before.push(function(t,i,r){n(r.elements).not(t).hide(),n.fn.cycle.commonReset(t,i,r,!0,!1),r.animIn.height=i.cycleH}),r.cssBefore={left:0,top:0,height:0},r.animIn={height:"show"},r.animOut={height:0}},n.fn.cycle.transitions.shuffle=function(t,i,r){var u,f=t.css("overflow","visible").width();for(i.css({left:0,top:0}),r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!0,!0,!0)}),r.speedAdjusted||(r.speed=r.speed/2,r.speedAdjusted=!0),r.random=0,r.shuffle=r.shuffle||{left:-f,top:15},r.els=[],u=0;u<i.length;u++)r.els.push(i[u]);for(u=0;u<r.currSlide;u++)r.els.push(r.els.shift());r.fxFn=function(t,i,r,u,f){var e=f?n(t):n(i),o;n(i).css(r.cssBefore),o=r.slideCount,e.animate(r.shuffle,r.speedIn,r.easeIn,function(){for(var l=n.fn.cycle.hopsFromLast(r,f),i,h,c,s=0;s<l;s++)f?r.els.push(r.els.shift()):r.els.unshift(r.els.pop());if(f)for(i=0,h=r.els.length;i<h;i++)n(r.els[i]).css("z-index",h-i+o);else c=n(t).css("z-index"),e.css("z-index",parseInt(c)+1+o);e.animate({left:0,top:0},r.speedOut,r.easeOut,function(){n(f?this:t).hide(),u&&u()})})},r.cssBefore={display:"block",opacity:1,top:0,left:0}},n.fn.cycle.transitions.turnUp=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!0,!1),r.cssBefore.top=i.cycleH,r.animIn.height=i.cycleH}),r.cssFirst={top:0},r.cssBefore={left:0,height:0},r.animIn={top:0},r.animOut={height:0}},n.fn.cycle.transitions.turnDown=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!0,!1),r.animIn.height=i.cycleH,r.animOut.top=t.cycleH}),r.cssFirst={top:0},r.cssBefore={left:0,top:0,height:0},r.animOut={height:0}},n.fn.cycle.transitions.turnLeft=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!1,!0),r.cssBefore.left=i.cycleW,r.animIn.width=i.cycleW}),r.cssBefore={top:0,width:0},r.animIn={left:0},r.animOut={width:0}},n.fn.cycle.transitions.turnRight=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!1,!0),r.animIn.width=i.cycleW,r.animOut.left=t.cycleW}),r.cssBefore={top:0,left:0,width:0},r.animIn={left:0},r.animOut={width:0}},n.fn.cycle.transitions.zoom=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!1,!1,!0),r.cssBefore.top=i.cycleH/2,r.cssBefore.left=i.cycleW/2,r.animIn={top:0,left:0,width:i.cycleW,height:i.cycleH},r.animOut={width:0,height:0,top:t.cycleH/2,left:t.cycleW/2}}),r.cssFirst={top:0,left:0},r.cssBefore={width:0,height:0}},n.fn.cycle.transitions.fadeZoom=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!1,!1),r.cssBefore.left=i.cycleW/2,r.cssBefore.top=i.cycleH/2,r.animIn={top:0,left:0,width:i.cycleW,height:i.cycleH}}),r.cssBefore={width:0,height:0},r.animOut={opacity:0}},n.fn.cycle.transitions.blindX=function(t,i,r){var u=t.css("overflow","hidden").width();r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r),r.animIn.width=i.cycleW,r.animOut.left=t.cycleW}),r.cssBefore={left:u,top:0},r.animIn={left:0},r.animOut={left:u}},n.fn.cycle.transitions.blindY=function(t,i,r){var u=t.css("overflow","hidden").height();r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r),r.animIn.height=i.cycleH,r.animOut.top=t.cycleH}),r.cssBefore={top:u,left:0},r.animIn={top:0},r.animOut={top:u}},n.fn.cycle.transitions.blindZ=function(t,i,r){var u=t.css("overflow","hidden").height(),f=t.width();r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r),r.animIn.height=i.cycleH,r.animOut.top=t.cycleH}),r.cssBefore={top:u,left:f},r.animIn={top:0,left:0},r.animOut={top:u,left:f}},n.fn.cycle.transitions.growX=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!1,!0),r.cssBefore.left=this.cycleW/2,r.animIn={left:0,width:this.cycleW},r.animOut={left:0}}),r.cssBefore={width:0,top:0}},n.fn.cycle.transitions.growY=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!0,!1),r.cssBefore.top=this.cycleH/2,r.animIn={top:0,height:this.cycleH},r.animOut={top:0}}),r.cssBefore={height:0,left:0}},n.fn.cycle.transitions.curtainX=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!1,!0,!0),r.cssBefore.left=i.cycleW/2,r.animIn={left:0,width:this.cycleW},r.animOut={left:t.cycleW/2,width:0}}),r.cssBefore={top:0,width:0}},n.fn.cycle.transitions.curtainY=function(t,i,r){r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!0,!1,!0),r.cssBefore.top=i.cycleH/2,r.animIn={top:0,height:i.cycleH},r.animOut={top:t.cycleH/2,height:0}}),r.cssBefore={left:0,height:0}},n.fn.cycle.transitions.cover=function(t,i,r){var u=r.direction||"left",f=t.css("overflow","hidden").width(),e=t.height();r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r),u=="right"?r.cssBefore.left=-f:u=="up"?r.cssBefore.top=e:u=="down"?r.cssBefore.top=-e:r.cssBefore.left=f}),r.animIn={left:0,top:0},r.animOut={opacity:1},r.cssBefore={top:0,left:0}},n.fn.cycle.transitions.uncover=function(t,i,r){var u=r.direction||"left",f=t.css("overflow","hidden").width(),e=t.height();r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!0,!0,!0),u=="right"?r.animOut.left=f:u=="up"?r.animOut.top=-e:u=="down"?r.animOut.top=e:r.animOut.left=-f}),r.animIn={left:0,top:0},r.animOut={opacity:1},r.cssBefore={top:0,left:0}},n.fn.cycle.transitions.toss=function(t,i,r){var u=t.css("overflow","visible").width(),f=t.height();r.before.push(function(t,i,r){n.fn.cycle.commonReset(t,i,r,!0,!0,!0),r.animOut.left||r.animOut.top?r.animOut.opacity=0:r.animOut={left:u*2,top:-f/2,opacity:0}}),r.cssBefore={left:0,top:0},r.animIn={left:0}},n.fn.cycle.transitions.wipe=function(t,i,r){var u=t.css("overflow","hidden").width(),f=t.height(),e,s,h;r.cssBefore=r.cssBefore||{},r.clip&&(/l2r/.test(r.clip)?e="rect(0px 0px "+f+"px 0px)":/r2l/.test(r.clip)?e="rect(0px "+u+"px "+f+"px "+u+"px)":/t2b/.test(r.clip)?e="rect(0px "+u+"px 0px 0px)":/b2t/.test(r.clip)?e="rect("+f+"px "+u+"px "+f+"px 0px)":/zoom/.test(r.clip)&&(s=parseInt(f/2),h=parseInt(u/2),e="rect("+s+"px "+h+"px "+s+"px "+h+"px)")),r.cssBefore.clip=r.cssBefore.clip||e||"rect(0px 0px 0px 0px)";var o=r.cssBefore.clip.match(/(\d+)/g),c=parseInt(o[0]),l=parseInt(o[1]),a=parseInt(o[2]),v=parseInt(o[3]);r.before.push(function(t,i,r){var s,h,e,o;t!=i&&(s=n(t),h=n(i),n.fn.cycle.commonReset(t,i,r,!0,!0,!1),r.cssAfter.display="block",e=1,o=parseInt(r.speedIn/13)-1,function y(){var n=c?c-parseInt(e*(c/o)):0,t=v?v-parseInt(e*(v/o)):0,i=a<f?a+parseInt(e*((f-a)/o||1)):f,r=l<u?l+parseInt(e*((u-l)/o||1)):u;h.css({clip:"rect("+n+"px "+r+"px "+i+"px "+t+"px)"}),e++<=o?setTimeout(y,13):s.css("display","none")}())}),r.cssBefore={display:"block",opacity:1,top:0,left:0},r.animIn={left:0},r.animOut={left:0}}}(jQuery),typeof RD=="undefined"&&(RD={}),typeof RD.Widgets=="undefined"&&(RD.Widgets={}),function(n){var t=RD.Widgets.SubmitContent={},c,v,h,a,s,w,o,l,i,f,u,y,r,p,e,b;t.Initialize=function(){e=n("#submit_story #Description"),b=n("#submit_story #reqDescription"),c=n("#submit_story #FirstName"),v=n("#submit_story #reqFirstName"),h=n("#submit_story #LastName"),a=n("#submit_story #reqLastName"),s=n("#submit_story #StreetAddress1"),w=n("#submit_story #reqStreetAddress1"),o=n("#submit_story #City"),l=n("#submit_story #reqCity"),i=n("#submit_story #ZipCode"),f=n("#submit_story #reqZipCode"),u=n("#submit_story #Country"),y=n("#submit_story #reqCountry"),r=n("#submit_story #Email"),p=n("#submit_story #reqEmail"),t.ResetErrorMsgs(),n("#submit_story #btnContentSubmit").click(function(){var i=t.Validate();return i?n("#submit_story #btnContentSubmit").hide():n("#submit_story #btnContentSubmit").show(),i})},t.ResetErrorMsgs=function(){n("#submit_story .text-danger").hide(),n("#submit_story #btnContentSubmit").removeAttr("disabled")},t.Validate=function(){var n=!0,et=/^[a-zA-Z0-9_\-\.]*$/,ot=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,st=/^[0-9a-zA-Z]+$/,tt,d,g,it,rt,k,ut,ft,nt;return t.ResetErrorMsgs(),tt=e.val(),tt&&tt.trim()!=""||(b.show(),e.focus(),n=!1),d=c.val(),d&&d.trim()!=""&&et.test(d.trim())||(v.show(),c.focus(),n=!1),g=h.val(),g&&g.trim()!=""&&et.test(g.trim())||(a.show(),h.focus(),n=!1),it=s.val(),it&&it.trim()!=""||(w.show(),s.focus(),n=!1),rt=o.val(),rt&&rt.trim()!=""||(l.show(),o.focus(),n=!1),k=i.val(),k&&k.trim()!=""&&st.test(k.trim())?(k=k.trim(),ut=k.length,(ut<4||ut>10)&&(f.show(),i.focus(),n=!1)):(f.show(),i.focus(),n=!1),ft=u.val(),ft&&ft.trim()!=""||(y.show(),u.focus(),n=!1),nt=r.val(),nt&&nt.trim()!=""&&nt.trim().match(ot)||(p.show(),r.focus(),n=!1),n?!0:!1},n(function(){t.Initialize()})}($),$(function(){var n=function(n,t){var r=this,i;this.file=n,this.fileUpload=t,i="",i+="<div class='rd_file_upload_row'>",i+="<a class='rd_file_upload_cancel pull-right' alt='delete'><i class='fa fa-times'></i></a>",i+="<div class='rd_file_upload_inner_container'>",i+="<img class='rd_file_upload_img hide' />",i+="<div class='rd_file_upload_label rd_tg_bold' ></div>",i+="<div class='rd_file_upload_label_error red hide' ></div>",i+="<div class='loading hide'>Uploading file: <strong>"+n.name+"</strong>...</div>",i+="<div><a href class='retry hide rd_tg_bold' >Retry</a></div>",i+="</div>",i+="</div>",this.el=$(i),this.label=$(".rd_file_upload_label",this.el),this.img=$(".rd_file_upload_img",this.el),this.close=$(".rd_file_upload_cancel",this.el),this.loading=$(".loading",this.el),this.error=$(".rd_file_upload_label_error",this.el),this.retry=$(".retry",this.el),this.close.click(function(n){return r.handleCancel(n),!1}),this.retry.click(function(){return r.upLoad(r.callback,r.context),!1})},t;n.prototype.progress=function(n){n?this.loading.show().removeClass("hide"):this.loading.hide().addClass("hide")},n.prototype.errorMsg=function(n){n?this.error.show().html(n):this.error.hide()},n.prototype.image=function(n){n?this.img.show().attr("src",n).removeClass("hide"):this.img.hide().addClass("hide")},n.prototype.text=function(n){n?this.label.show().html(n):this.label.hide()},n.prototype.handleCancel=function(){this.el.hide(),this.fileUpload.multiple||(this.fileUpload.$inputEl.show().val(""),delete this.fileUpload.files,this.fileUpload.files=[])},n.prototype.upLoad=function(n,t){var i=new FormData;this.callback=n,this.context=t,i.append("maxFileLimit",this.fileUpload.maxFiles),i.append("maxFileSize",this.fileUpload.maxSize),i.append("destination",this.fileUpload.destination),i.append("thumbHeight",this.fileUpload.thumbHeight),i.append("thumbWidth",this.fileUpload.thumbWidth),i.append("temppath",this.fileUpload.tempPath),i.append("0",this.file),this.errorMsg(null),this.retry.hide(),this.progress(!0),$.ajax({url:"/FileUpload/FileUpload/",data:i,type:"post",processData:!1,contentType:!1,cache:!1,context:this,success:function(i){this.handleFileUpload(!0,i,n,t)},error:function(i){this.handleFileUpload(!1,i,n,t)}})},n.prototype.handleFileUpload=function(n,t,i,r){if(this.progress(!1),n&&!t.StatusCode)this.image(t.ThumbSource),this.text(t.FileName),r?r.callback(!0,this):i(!0,this);else{var u="Internal server error. Please try again.";t.StatusCode==1?u="Invalid file type.":t.StatusCode==2?u="File size should be less than "+this.fileUpload.maxSize+"mb":t.StatusCode==3&&(u="Invalid upload destination ["+this.fileUpload.destination+"]",this.retry.show()),this.image(null),this.text(null),this.errorMsg(u),r?r.callback(!1,this):i(!1,this)}this.fileUpload.multiple||this.fileUpload.$inputEl.hide()},t=function(n){var i=this,t;if(this.inputEl=n,this.$inputEl=$(this.inputEl),this.isDD=$("html").hasClass("draganddrop"),this.multiple=this.$inputEl.attr("multiple"),this.destination=this.$inputEl.data("rd-file-upload-destination"),this.tempPath=this.$inputEl.data("rd-file-upload-temppath"),this.maxFiles=this.$inputEl.data("rd-file-upload-max")||1,this.maxSize=this.$inputEl.data("rd-file-upload-max-size")||15,this.types=this.$inputEl.data("rd-file-upload-types")||"*",t=(this.$inputEl.data("data-rd-file-thumbnail-size")||"75x75").split("x"),this.thumbHeight=t[0],this.thumbWidth=t[1],this.files=[],this.container=$("<div class='rd_file_upload_grid'></div>"),this.$inputEl.after(this.container),this.isDD){this.container.addClass("rd_file_upload_dd");this.container.on("dragover",function(n){n.preventDefault()});this.container.on("dragleave",function(n){n.preventDefault()});this.container.on("drop",function(n){n.preventDefault(),i.handleDragDrop(n)})}this.$inputEl.on("change",function(n){i.uploadFiles(n)})},t.prototype.handleDragDrop=function(n){if(!this.multiple&&this.files.length)return!1;this.uploadFiles(n)},t.prototype.uploadFile=function(t){var r=this,i=new n(t,this);this.container.append(i.el),i.upLoad(function(n,t){r.files.push(t)})},t.prototype.uploadFiles=function(n){for(var i=n.target.files||n.originalEvent.dataTransfer.files,t=0;t<i.length;t++)this.uploadFile(i[t])},$("input[data-rd-file-upload]").each(function(){new t(this)})}),function(){}(),function(n){n.fn.lightBox=function(t){function w(){return v(this,b),!1}function v(n,r){if(c(),t.imageArray.length=0,t.activeImage=0,r.length==1)t.imageArray.push([n.getAttribute("href"),n.getAttribute("alt")]);else for(var u=0;u<r.length;u++)t.imageArray.push([r[u].getAttribute("href"),r[u].getAttribute("alt")]);while(t.imageArray[t.activeImage][0]!=n.getAttribute("href"))t.activeImage++;i()}function c(){var i,f;n("body").append('<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div id="lightbox-secNav"><a href="#" id="lightbox-secNav-btnClose"><img src="'+t.imageBtnClose+'"></a></div><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"><img src="'+t.imageLoading+'"></a></div></div><div id="lightbox-container-image-data-box"><div style="" id="lightbox-nav"><a href="#" id="lightbox-nav-btnPrev"></a><a href="#" id="lightbox-nav-btnNext"></a></div><div id="lightbox-container-image-data"><div id="lightbox-nav-buttons" style="height:0px; overflow:hidden;"></div><div id="lightbox-image-details"><span id="lightbox-image-details-caption" style="*padding-right:15px;"></span><span id="lightbox-image-details-currentNumber"></span></div><div id="nav-buttons"></div><div style="clear: both"></div></div></div></div></div>'),i=r(),n("#jquery-overlay").css({backgroundColor:t.overlayBgColor,opacity:t.overlayOpacity,width:i[0],height:i[1]}).fadeIn(),f=e(),n("#jquery-lightbox").css({top:f[1]+i[3]/10,left:f[0]}).show(),n("#lightbox-loading-link,#lightbox-secNav-btnClose").click(function(){return u(),!1}),n(window).resize(function(){var t=r(),i;n("#jquery-overlay").css({width:t[0],height:t[1]}),i=e(),n("#jquery-lightbox").css({top:i[1]+t[3]/10,left:i[0]})})}function k(n){t.activeImage=n,i()}function i(){n("#lightbox-loading").show(),t.fixedNavigation?n("#lightbox-image,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide():n("#lightbox-image,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide();var i=new Image;i.onload=function(){n("#lightbox-image").attr("src",t.imageArray[t.activeImage][0]),s(i.width,i.height),i.onload=function(){}},i.src=t.imageArray[t.activeImage][0]}function s(i,r){var e=n("#lightbox-container-image-box").width(),s=n("#lightbox-container-image-box").height(),u=i+t.containerBorderSize*2,f=r+t.containerBorderSize*2,c=e-u,l=s-f;n("#lightbox-container-image-box").animate({width:u,height:f},t.containerResizeSpeed,function(){h()}),c==0&&l==0&&(n.browser.msie?o(250):o(100)),n("#lightbox-container-image-data-box").css({width:i})}function h(){n("#lightbox-loading").hide(),d(),l(),n("#lightbox-image").fadeIn(function(){}),p()}function d(){n("#lightbox-image-details-caption").hide(),t.imageArray[t.activeImage][1]&&(n("#lightbox-image-details-caption").html(t.imageArray[t.activeImage][1]).show(),n("#lightbox-container-image-data-box").show()),t.imageArray.length>1?(n("#lightbox-image-details-currentNumber").html(t.txtImage+" "+(t.activeImage+1)+" "+t.txtOf+" "+t.imageArray.length).show(),n("#lightbox-container-image-data-box").show()):n("#lightbox-container-image-data-box").show()}function l(){n("#lightbox-nav").show(),n("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({background:"transparent url("+t.imageBlank+") no-repeat",cursor:"default"}),t.activeImage!=0?t.fixedNavigation?n("#lightbox-nav-btnPrev").css({background:"url("+t.imageBtnPrev+") left 15% no-repeat",cursor:"pointer"}).unbind().bind("click",function(){return trackLink("Slideshow Expand Project",t.activeImage,location.pathname.toLowerCase(),!1),t.activeImage=t.activeImage-1,i(),!1}):n("#lightbox-nav-btnPrev").unbind().hover(function(){n(this).css({background:"url("+t.imageBtnPrev+") left 15% no-repeat"})},function(){n(this).css({background:"transparent url("+t.imageBlank+") no-repeat"})}).show().bind("click",function(){return t.activeImage=t.activeImage-1,i(),!1}):n("#lightbox-nav-btnPrev").unbind().click(function(){return!1}),t.activeImage!=t.imageArray.length-1?t.fixedNavigation?n("#lightbox-nav-btnNext").css({background:"url("+t.imageBtnNext+") right 15% no-repeat",cursor:"pointer"}).unbind().bind("click",function(){return t.activeImage=t.activeImage+1,i(),trackLink("Slideshow Expand Project",t.activeImage+1,location.pathname.toLowerCase(),!1),!1}):n("#lightbox-nav-btnNext").unbind().hover(function(){n(this).css({background:"url("+t.imageBtnNext+") right 15% no-repeat"})},function(){n(this).css({background:"transparent url("+t.imageBlank+") no-repeat"})}).show().bind("click",function(){return t.activeImage=t.activeImage+1,i(),!1}):n("#lightbox-nav-btnNext").unbind().click(function(){return!1}),t.imageArray.length>1&&(n("#lightbox-nav-buttons").html(""),n(t.imageArray).each(function(i){var r=document.createElement("span");r.style.display="inline-block",r.style.background=t.activeImage==i?"url(/images/ProjectDetails/step_by_step/carousel_buttons.png) no-repeat 0px 5px":"url(/images/ProjectDetails/step_by_step/carousel_buttons.png) no-repeat -18px 5px",r.style.width="13px",r.style.height="18px",r.style.margin="0px 3px 0px 0px",n(r).click(function(){trackLink("Slideshow Expand Project",i+1,location.pathname.toLowerCase(),!1),k(i)}),n("#lightbox-nav-buttons").append(r),n("#lightbox-nav-buttons").html()!=""&&n("#lightbox-nav-buttons").css("height","20px")})),a()}function a(){n(document).keydown(function(n){y(n)})}function f(){n(document).unbind()}function y(n){n==null?(keycode=event.keyCode,escapeKey=27):(keycode=n.keyCode,escapeKey=n.DOM_VK_ESCAPE),key=String.fromCharCode(keycode).toLowerCase(),(key==t.keyToClose||key=="x"||keycode==escapeKey)&&u(),(key==t.keyToPrev||keycode==37)&&t.activeImage!=0&&(t.activeImage=t.activeImage-1,i(),f()),(key==t.keyToNext||keycode==39)&&t.activeImage!=t.imageArray.length-1&&(t.activeImage=t.activeImage+1,i(),f())}function p(){t.imageArray.length-1>t.activeImage&&(objNext=new Image,objNext.src=t.imageArray[t.activeImage+1][0]),t.activeImage>0&&(objPrev=new Image,objPrev.src=t.imageArray[t.activeImage-1][0])}function u(){n("#jquery-lightbox").remove(),n("#jquery-overlay").fadeOut(function(){n("#jquery-overlay").remove()})}function r(){var i,r,n,t;return window.innerHeight&&window.scrollMaxY?(i=window.innerWidth+window.scrollMaxX,r=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(i=document.body.scrollWidth,r=document.body.scrollHeight):(i=document.body.offsetWidth,r=document.body.offsetHeight),self.innerHeight?(n=document.documentElement.clientWidth?document.documentElement.clientWidth:self.innerWidth,t=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(n=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(n=document.body.clientWidth,t=document.body.clientHeight),pageHeight=r<t?t:r,pageWidth=i<n?i:n,arrayPageSize=[pageWidth,pageHeight,n,t]}function e(){var n,t;return self.pageYOffset?(t=self.pageYOffset,n=self.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(t=document.documentElement.scrollTop,n=document.documentElement.scrollLeft):document.body&&(t=document.body.scrollTop,n=document.body.scrollLeft),arrayPageScroll=[n,t]}function o(n){var i=new Date,t;t=null;do t=new Date;while(t-i<n)}t=jQuery.extend({overlayBgColor:"",overlayOpacity:.8,fixedNavigation:!0,imageLoading:"/images/ProjectDetails/step_by_step/lightbox-ico-loading.gif",imageBtnPrev:"/images/ProjectDetails/step_by_step/lightbox-btn-prev.gif",imageBtnNext:"/images/ProjectDetails/step_by_step/lightbox-btn-next.gif",imageBtnClose:"/images/ProjectDetails/step_by_step/close_button.gif",imageBlank:"/images/ProjectDetails/step_by_step/lightbox-blank.gif",containerBorderSize:10,containerResizeSpeed:400,txtImage:"Image",txtOf:"of",keyToClose:"c",keyToPrev:"p",keyToNext:"n",imageArray:[],activeImage:0},t);var b=this;return this.unbind("click").click(w)}}(jQuery)